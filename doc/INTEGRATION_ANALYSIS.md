# Openclaw-CN ä¸ å°åŒ—(XiaoBei) å¹³å°æ·±åº¦æ•´åˆåˆ†ææ–‡æ¡£

> æ–‡æ¡£ç‰ˆæœ¬ï¼šv1.0
> åˆ›å»ºæ—¥æœŸï¼š2026-02-03
> ä½œè€…ï¼šAI æŠ€æœ¯åˆ†æ

---

## ä¸€ã€é¡¹ç›®æ¦‚è§ˆå¯¹æ¯”

### 1.1 Openclaw-CN é¡¹ç›®æ¦‚è¿°

| é¡¹ç›®ç»´åº¦ | è¯¦ç»†ä¿¡æ¯ |
|---------|---------|
| **é¡¹ç›®åç§°** | Openclaw-CNï¼ˆå¼€æ”¾çˆª ä¸­æ–‡ç‰ˆï¼‰ |
| **ç‰ˆæœ¬** | 2026.2.3 |
| **å®šä½** | ç§æœ‰åŒ–éƒ¨ç½²çš„ AI æ™ºèƒ½åŠ©æ‰‹ï¼Œæ”¯æŒå¤šæ¸ é“æ¶ˆæ¯é›†æˆ |
| **æ ¸å¿ƒæŠ€æœ¯æ ˆ** | TypeScript + Node.js (â‰¥22.12.0) |
| **ä¸»è¦åŠŸèƒ½** | å¤šæ¸ é“æ¶ˆæ¯ï¼ˆWhatsAppã€Telegramã€é£ä¹¦ã€Discordç­‰ï¼‰ã€AI æ™ºèƒ½ä½“ã€æ’ä»¶ç³»ç»Ÿã€æŠ€èƒ½å¸‚åœº |
| **éƒ¨ç½²æ–¹å¼** | npm å…¨å±€å®‰è£… / Docker éƒ¨ç½² |
| **é»˜è®¤ç«¯å£** | 18789 (Gateway WebSocket/HTTP) |

### 1.2 å°åŒ—(XiaoBei)å¹³å°æ¦‚è¿°

å°åŒ—å¹³å°æ˜¯ä¸€ä¸ªä¼ä¸šçº§ AI Agent å¹³å°ï¼ŒåŒ…å«å¤šä¸ªå­æ¨¡å—ï¼š

| å­æ¨¡å— | æŠ€æœ¯æ ˆ | æ ¸å¿ƒåŠŸèƒ½ |
|-------|-------|---------|
| **north-app-core** | Go + go-zero + gRPC | å¾®æœåŠ¡åç«¯æ ¸å¿ƒï¼Œä»»åŠ¡ç®¡ç†ã€æ²™ç®±ç®¡ç†ã€ç”¨æˆ·è®¤è¯ |
| **north-deer-flow** | Python + LangGraph | å¤šæ™ºèƒ½ä½“ç ”ç©¶æ¡†æ¶ï¼Œæ·±åº¦ç ”ç©¶ã€æ–‡æ¡£åˆ†æ |
| **northau-xiaobei** | Python + FastAPI | AI Agent æ‰§è¡Œå¼•æ“ï¼Œå·¥å…·é›†æˆ |
| **Vide FDE** | Next.js + React | Web å‰ç«¯å±•ç¤º |

---

## äºŒã€æŠ€æœ¯æ¶æ„å¯¹æ¯”åˆ†æ

### 2.1 æ¶æ„é£æ ¼å¯¹æ¯”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Openclaw-CN æ¶æ„                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚   æ¸ é“å±‚      â”‚    â”‚   Gateway     â”‚    â”‚   Agent      â”‚               â”‚
â”‚  â”‚  (Channels)   â”‚â—„â”€â”€â–ºâ”‚  (WebSocket)  â”‚â—„â”€â”€â–ºâ”‚  (AI Core)   â”‚               â”‚
â”‚  â”‚ WhatsApp/TG/  â”‚    â”‚   HTTP/WS     â”‚    â”‚ Claude/GPT   â”‚               â”‚
â”‚  â”‚ é£ä¹¦/Discord  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â–²                    â–²                        â”‚
â”‚                              â”‚                    â”‚                        â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚                    â”‚   Plugin System   â”‚  â”‚   Skills      â”‚                â”‚
â”‚                    â”‚   (æ‰©å±•æ’ä»¶)       â”‚  â”‚  (70+ æŠ€èƒ½)   â”‚                â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          å°åŒ—(XiaoBei) æ¶æ„                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚   å‰ç«¯å±‚      â”‚    â”‚   API Gateway â”‚    â”‚   RPC Servicesâ”‚               â”‚
â”‚  â”‚  (Vide FDE)   â”‚â—„â”€â”€â–ºâ”‚  (Go HTTP)    â”‚â—„â”€â”€â–ºâ”‚  (gRPC Core) â”‚               â”‚
â”‚  â”‚  Next.js/Reactâ”‚    â”‚  go-zero      â”‚    â”‚  ä»»åŠ¡/æ²™ç®±    â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                              â–²                    â–²                        â”‚
â”‚                              â”‚                    â”‚                        â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚         â–¼                    â–¼                    â–¼                â”‚       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚       â”‚
â”‚  â”‚  DeerFlow     â”‚    â”‚  XiaoBei Agentâ”‚    â”‚   Sandbox     â”‚     â”‚       â”‚
â”‚  â”‚  (LangGraph)  â”‚    â”‚  (FastAPI)    â”‚    â”‚  (E2B/BP)     â”‚     â”‚       â”‚
â”‚  â”‚  å¤šæ™ºèƒ½ä½“ç ”ç©¶  â”‚    â”‚  å·¥å…·æ‰§è¡Œå¼•æ“  â”‚    â”‚  ä»£ç æ‰§è¡Œç¯å¢ƒ  â”‚     â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ ¸å¿ƒèƒ½åŠ›å¯¹æ¯”

| èƒ½åŠ›ç»´åº¦ | Openclaw-CN | å°åŒ—å¹³å° | æ•´åˆä¼˜åŠ¿ |
|---------|------------|---------|---------|
| **æ¶ˆæ¯æ¸ é“** | WhatsApp/Telegram/é£ä¹¦/Discord/Signal/iMessage/LINE/Matrix ç­‰ 10+ æ¸ é“ | é£ä¹¦é›†æˆ | Openclaw æ¸ é“èƒ½åŠ›è¿œå¼ºäºå°åŒ— |
| **AI æ¨¡å‹** | Claude/GPT/Gemini å¤šæ¨¡å‹æ”¯æŒ | LiteLLM å¤šæ¨¡å‹æ”¯æŒ | ä¸¤è€…éƒ½æ”¯æŒå¤šæ¨¡å‹ï¼Œå¯äº’è¡¥ |
| **ä»£ç æ‰§è¡Œ** | åŸºç¡€æ²™ç®± | E2B/BP ä¸“ä¸šæ²™ç®± | å°åŒ—æ²™ç®±èƒ½åŠ›æ›´å¼º |
| **ç ”ç©¶èƒ½åŠ›** | åŸºç¡€æŠ€èƒ½ | æ·±åº¦ç ”ç©¶æ¡†æ¶(DeerFlow) | å°åŒ—ç ”ç©¶èƒ½åŠ›æ›´ä¸“ä¸š |
| **å·¥å…·ç³»ç»Ÿ** | 57+ å†…ç½®å·¥å…· + æŠ€èƒ½å¸‚åœº | è‡ªå®šä¹‰å·¥å…·ç­–ç•¥ | å¯ç›¸äº’æ‰©å±• |
| **ä¼ä¸šé›†æˆ** | åŸºç¡€ | gRPC å¾®æœåŠ¡ + é£ä¹¦æ·±åº¦é›†æˆ | å°åŒ—ä¼ä¸šé›†æˆæ›´å®Œå–„ |
| **æœ¬åœ°éƒ¨ç½²** | âœ… æ”¯æŒ | âœ… æ”¯æŒ | éƒ½æ”¯æŒç§æœ‰åŒ–éƒ¨ç½² |

---

## ä¸‰ã€æ•´åˆæ–¹æ¡ˆè®¾è®¡

### 3.1 æ•´åˆæ¶æ„æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ•´åˆåçš„ç»Ÿä¸€ AI Agent å¹³å°                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                         æ¶ˆæ¯æ¸ é“å±‚ (Openclaw Channels)                    â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚   â”‚  â”‚WhatsAppâ”‚ â”‚Telegramâ”‚ â”‚ é£ä¹¦   â”‚ â”‚Discord â”‚ â”‚ Signal â”‚ â”‚iMessageâ”‚    â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                  â”‚                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                    Openclaw Gateway (æ¶ˆæ¯ç½‘å…³)                           â”‚  â”‚
â”‚   â”‚                    WebSocket + HTTP API (:18789)                         â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                  â”‚                                             â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚          â–¼                       â–¼                       â–¼                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚   â”‚  Openclaw Agent â”‚   â”‚  å°åŒ— Bridge    â”‚   â”‚  Web UI        â”‚            â”‚
â”‚   â”‚  (åŸºç¡€å¯¹è¯)      â”‚   â”‚  (èƒ½åŠ›è·¯ç”±å™¨)   â”‚   â”‚  (Vide FDE)    â”‚            â”‚
â”‚   â”‚  Claude/GPT     â”‚   â”‚  HTTP Adapter   â”‚   â”‚  Next.js       â”‚            â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                  â”‚                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                    North-App-Core (ä»»åŠ¡ç®¡ç†ä¸­å¿ƒ)                          â”‚  â”‚
â”‚   â”‚                    Go + gRPC å¾®æœåŠ¡                                      â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                  â”‚                                             â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚          â–¼                       â–¼                       â–¼                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚   â”‚  DeerFlow       â”‚   â”‚  XiaoBei Agent  â”‚   â”‚  Sandbox        â”‚            â”‚
â”‚   â”‚  æ·±åº¦ç ”ç©¶å¼•æ“    â”‚   â”‚  å·¥å…·æ‰§è¡Œå¼•æ“    â”‚   â”‚  ä»£ç æ‰§è¡Œç¯å¢ƒ    â”‚            â”‚
â”‚   â”‚  LangGraph      â”‚   â”‚  FastAPI        â”‚   â”‚  E2B/BP         â”‚            â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 ä¸‰ç§æ•´åˆæ¨¡å¼

#### æ¨¡å¼ä¸€ï¼šOpenclaw ä½œä¸ºå‰ç«¯ç½‘å…³ï¼ˆæ¨èï¼‰

**æ¶æ„è¯´æ˜ï¼š** åˆ©ç”¨ Openclaw å¼ºå¤§çš„å¤šæ¸ é“èƒ½åŠ›ä½œä¸ºæ¶ˆæ¯å…¥å£ï¼Œå°†å¤æ‚ä»»åŠ¡è·¯ç”±åˆ°å°åŒ—åç«¯å¤„ç†ã€‚

```
ç”¨æˆ·æ¶ˆæ¯ â†’ Openclaw Gateway â†’ æ„å›¾è¯†åˆ« 
                              â”‚
                              â”œâ”€ ç®€å•å¯¹è¯ â†’ Openclaw Agent â†’ ç›´æ¥å“åº”
                              â”‚
                              â””â”€ å¤æ‚ä»»åŠ¡ â†’ å°åŒ— Bridge API â†’ North-App-Core
                                                           â”‚
                                                           â”œâ”€ æ·±åº¦ç ”ç©¶ â†’ DeerFlow
                                                           â”œâ”€ ä»£ç æ‰§è¡Œ â†’ Sandbox
                                                           â””â”€ å·¥å…·è°ƒç”¨ â†’ XiaoBei Agent
```

**å®ç°æ–¹å¼ï¼š**
1. åœ¨ Openclaw ä¸­åˆ›å»ºè‡ªå®šä¹‰å·¥å…·/æŠ€èƒ½
2. å·¥å…·å†…éƒ¨è°ƒç”¨å°åŒ—çš„ HTTP API
3. å¼‚æ­¥ç­‰å¾…ä»»åŠ¡å®Œæˆå¹¶è¿”å›ç»“æœ

#### æ¨¡å¼äºŒï¼šå°åŒ—ä½œä¸ºä¸»æ§åˆ¶å™¨

**æ¶æ„è¯´æ˜ï¼š** å°† Openclaw ä½œä¸ºä¸€ä¸ªæ¶ˆæ¯æ¸ é“æ’ä»¶é›†æˆåˆ°å°åŒ—å¹³å°ã€‚

```
North-App-Core (ä¸»æ§åˆ¶å™¨)
        â”‚
        â”œâ”€ é£ä¹¦æ¸ é“ â†’ åŸæœ‰é£ä¹¦é›†æˆ
        â”‚
        â””â”€ Openclaw æ¸ é“ â†’ Openclaw Gateway â†’ å¤šæ¸ é“æ¶ˆæ¯
                                              â”‚
                                              â”œâ”€ WhatsApp
                                              â”œâ”€ Telegram
                                              â”œâ”€ Discord
                                              â””â”€ ...
```

**å®ç°æ–¹å¼ï¼š**
1. å¼€å‘ Openclaw é€‚é…å™¨ï¼ˆPython/Goï¼‰
2. é€šè¿‡ WebSocket è¿æ¥ Openclaw Gateway
3. ç»Ÿä¸€æ¶ˆæ¯æ ¼å¼è½¬æ¢

#### æ¨¡å¼ä¸‰ï¼šåŒå‘äº’è”äº’é€š

**æ¶æ„è¯´æ˜ï¼š** ä¸¤ä¸ªç³»ç»Ÿä¿æŒç‹¬ç«‹è¿è¡Œï¼Œé€šè¿‡ API ç›¸äº’è°ƒç”¨èƒ½åŠ›ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Openclaw-CN    â”‚â—„â”€â”€â”€â”€RESTâ”€â”€â”€â”€â–ºâ”‚   å°åŒ—å¹³å°       â”‚
â”‚   (æ¶ˆæ¯+å¯¹è¯)     â”‚              â”‚  (ç ”ç©¶+æ‰§è¡Œ)     â”‚
â”‚                  â”‚â—„â”€â”€â”€WebSocketâ”€â”€â”‚                  â”‚
â”‚  - å¤šæ¸ é“æ¶ˆæ¯     â”‚    Events     â”‚  - æ·±åº¦ç ”ç©¶      â”‚
â”‚  - 70+ æŠ€èƒ½      â”‚              â”‚  - æ²™ç®±æ‰§è¡Œ      â”‚
â”‚  - æ’ä»¶ç³»ç»Ÿ      â”‚              â”‚  - ä¼ä¸šé›†æˆ      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å››ã€è¯¦ç»†æ•´åˆå®æ–½æ–¹æ¡ˆ

### 4.1 æ–¹æ¡ˆä¸€ï¼šOpenclaw è‡ªå®šä¹‰æŠ€èƒ½è°ƒç”¨å°åŒ—ï¼ˆæ¨èï¼‰

#### 4.1.1 åˆ›å»ºå°åŒ—æ¡¥æ¥æŠ€èƒ½

åœ¨ Openclaw çš„ skills ç›®å½•ä¸‹åˆ›å»ºæ–°æŠ€èƒ½ï¼š

```bash
# æŠ€èƒ½ç›®å½•ç»“æ„
skills/
â””â”€â”€ xiaobei-integration/
    â”œâ”€â”€ skill.md           # æŠ€èƒ½å®šä¹‰æ–‡ä»¶
    â”œâ”€â”€ config.yaml        # é…ç½®æ–‡ä»¶
    â””â”€â”€ tools/
        â”œâ”€â”€ deep-research.ts   # æ·±åº¦ç ”ç©¶å·¥å…·
        â”œâ”€â”€ code-executor.ts   # ä»£ç æ‰§è¡Œå·¥å…·
        â””â”€â”€ task-manager.ts    # ä»»åŠ¡ç®¡ç†å·¥å…·
```

#### 4.1.2 æŠ€èƒ½å®šä¹‰ç¤ºä¾‹ (skill.md)

```markdown
# å°åŒ—é›†æˆæŠ€èƒ½

è¿æ¥å°åŒ— AI å¹³å°ï¼Œæä¾›æ·±åº¦ç ”ç©¶ã€ä»£ç æ‰§è¡Œã€ä»»åŠ¡ç®¡ç†ç­‰é«˜çº§åŠŸèƒ½ã€‚

## é…ç½®

éœ€è¦é…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š
- XIAOBEI_API_URL: å°åŒ— API åœ°å€ï¼ˆé»˜è®¤ http://localhost:8080ï¼‰
- XIAOBEI_API_KEY: API è®¤è¯å¯†é’¥

## å¯ç”¨å·¥å…·

### æ·±åº¦ç ”ç©¶ (deep_research)
å¯åŠ¨æ·±åº¦ç ”ç©¶ä»»åŠ¡ï¼Œè‡ªåŠ¨æœç´¢ç½‘ç»œã€åˆ†ææ–‡æ¡£ã€ç”Ÿæˆç ”ç©¶æŠ¥å‘Šã€‚

### ä»£ç æ‰§è¡Œ (execute_code)
åœ¨å®‰å…¨æ²™ç®±ä¸­æ‰§è¡Œ Python/JavaScript ä»£ç ã€‚

### ä»»åŠ¡ç®¡ç† (manage_task)
åˆ›å»ºã€æŸ¥è¯¢ã€ç®¡ç†åå°ä»»åŠ¡ã€‚
```

#### 4.1.3 å·¥å…·å®ç°ç¤ºä¾‹

**deep-research.tsï¼ˆæ·±åº¦ç ”ç©¶å·¥å…·ï¼‰ï¼š**

```typescript
import { z } from "zod";

// å·¥å…·å®šä¹‰
// åŠŸèƒ½ï¼šè°ƒç”¨å°åŒ— DeerFlow æ·±åº¦ç ”ç©¶å¼•æ“
// è¾“å…¥ï¼šç ”ç©¶ä¸»é¢˜ã€ç ”ç©¶æ·±åº¦
// è¾“å‡ºï¼šç ”ç©¶æŠ¥å‘Šï¼ˆMarkdown æ ¼å¼ï¼‰
// ä¾èµ–ï¼šå°åŒ— north-deer-flow æœåŠ¡
// ä½œè€…ï¼šAI Integration

export const deepResearchTool = {
  name: "xiaobei_deep_research",
  description: "å¯åŠ¨æ·±åº¦ç ”ç©¶ä»»åŠ¡ï¼Œè‡ªåŠ¨æœç´¢ã€åˆ†æã€ç”ŸæˆæŠ¥å‘Š",
  parameters: z.object({
    topic: z.string().describe("ç ”ç©¶ä¸»é¢˜"),
    depth: z.enum(["quick", "medium", "thorough"]).default("medium"),
    output_format: z.enum(["markdown", "json"]).default("markdown"),
  }),
  
  async execute({ topic, depth, output_format }) {
    const apiUrl = process.env.XIAOBEI_API_URL || "http://localhost:8080";
    
    // åˆ›å»ºç ”ç©¶ä»»åŠ¡
    const response = await fetch(`${apiUrl}/api/v1/research/start`, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": `Bearer ${process.env.XIAOBEI_API_KEY}`,
      },
      body: JSON.stringify({
        topic,
        depth,
        output_format,
      }),
    });
    
    const result = await response.json();
    
    // è½®è¯¢ç­‰å¾…ä»»åŠ¡å®Œæˆ
    let taskResult;
    while (true) {
      const statusResp = await fetch(
        `${apiUrl}/api/v1/research/status/${result.task_id}`
      );
      taskResult = await statusResp.json();
      
      if (taskResult.status === "completed") {
        break;
      }
      if (taskResult.status === "failed") {
        throw new Error(`ç ”ç©¶ä»»åŠ¡å¤±è´¥: ${taskResult.error}`);
      }
      
      await new Promise(resolve => setTimeout(resolve, 2000));
    }
    
    return taskResult.report;
  },
};
```

**code-executor.tsï¼ˆä»£ç æ‰§è¡Œå·¥å…·ï¼‰ï¼š**

```typescript
import { z } from "zod";

// å·¥å…·å®šä¹‰
// åŠŸèƒ½ï¼šé€šè¿‡å°åŒ—æ²™ç®±æ‰§è¡Œä»£ç 
// è¾“å…¥ï¼šä»£ç å†…å®¹ã€ç¼–ç¨‹è¯­è¨€
// è¾“å‡ºï¼šæ‰§è¡Œç»“æœï¼ˆstdout/stderrï¼‰
// ä¾èµ–ï¼šå°åŒ— Sandbox æœåŠ¡ï¼ˆE2B/BPï¼‰
// ä½œè€…ï¼šAI Integration

export const codeExecutorTool = {
  name: "xiaobei_execute_code",
  description: "åœ¨å®‰å…¨æ²™ç®±ç¯å¢ƒä¸­æ‰§è¡Œä»£ç ",
  parameters: z.object({
    code: z.string().describe("è¦æ‰§è¡Œçš„ä»£ç "),
    language: z.enum(["python", "javascript", "bash"]).default("python"),
    timeout: z.number().default(30).describe("è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰"),
  }),
  
  async execute({ code, language, timeout }) {
    const apiUrl = process.env.XIAOBEI_API_URL || "http://localhost:8080";
    
    const response = await fetch(`${apiUrl}/api/v1/sandbox/execute`, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": `Bearer ${process.env.XIAOBEI_API_KEY}`,
      },
      body: JSON.stringify({
        code,
        language,
        timeout,
      }),
    });
    
    const result = await response.json();
    
    return {
      stdout: result.stdout,
      stderr: result.stderr,
      exit_code: result.exit_code,
      execution_time: result.execution_time,
    };
  },
};
```

### 4.2 æ–¹æ¡ˆäºŒï¼šOpenclaw æ’ä»¶å¼€å‘

#### 4.2.1 åˆ›å»º Openclaw æ¸ é“æ’ä»¶

åœ¨ Openclaw çš„ extensions ç›®å½•ä¸‹åˆ›å»ºå°åŒ—æ’ä»¶ï¼š

```bash
extensions/
â””â”€â”€ xiaobei/
    â”œâ”€â”€ openclaw.plugin.json   # æ’ä»¶æ¸…å•
    â”œâ”€â”€ package.json           # åŒ…é…ç½®
    â”œâ”€â”€ tsconfig.json          # TypeScript é…ç½®
    â””â”€â”€ src/
        â”œâ”€â”€ index.ts           # æ’ä»¶å…¥å£
        â”œâ”€â”€ xiaobei-adapter.ts # å°åŒ—é€‚é…å™¨
        â””â”€â”€ types.ts           # ç±»å‹å®šä¹‰
```

#### 4.2.2 æ’ä»¶æ¸…å• (openclaw.plugin.json)

```json
{
  "id": "xiaobei-integration",
  "name": "å°åŒ—å¹³å°é›†æˆ",
  "version": "1.0.0",
  "description": "å°†å°åŒ— AI å¹³å°çš„èƒ½åŠ›é›†æˆåˆ° Openclaw",
  "author": "XiaoBei Team",
  "main": "dist/index.js",
  "types": "dist/index.d.ts",
  "capabilities": {
    "http_handlers": true,
    "websocket_handlers": true,
    "tools": true
  },
  "config_schema": {
    "type": "object",
    "properties": {
      "api_url": {
        "type": "string",
        "description": "å°åŒ— API åœ°å€",
        "default": "http://localhost:8080"
      },
      "api_key": {
        "type": "string",
        "description": "API è®¤è¯å¯†é’¥"
      }
    },
    "required": ["api_key"]
  }
}
```

#### 4.2.3 æ’ä»¶å…¥å£å®ç° (src/index.ts)

```typescript
import type { OpenlawPlugin, PluginContext } from "@openclaw/plugin-sdk";
import { XiaoBeiAdapter } from "./xiaobei-adapter";

// Openclaw-å°åŒ—é›†æˆæ’ä»¶
// åŠŸèƒ½ï¼šå°†å°åŒ—å¹³å°èƒ½åŠ›æš´éœ²ä¸º Openclaw å·¥å…·
// æ”¯æŒï¼šæ·±åº¦ç ”ç©¶ã€ä»£ç æ‰§è¡Œã€ä»»åŠ¡ç®¡ç†ã€é£ä¹¦é›†æˆ
// é€šä¿¡ï¼šHTTP REST API + WebSocket äº‹ä»¶è®¢é˜…
// ä½œè€…ï¼šAI Integration

export default class XiaoBeiPlugin implements OpenlawPlugin {
  private adapter: XiaoBeiAdapter;
  private context: PluginContext;

  async onLoad(context: PluginContext) {
    this.context = context;
    const config = context.config;
    
    // åˆå§‹åŒ–å°åŒ—é€‚é…å™¨
    this.adapter = new XiaoBeiAdapter({
      apiUrl: config.api_url,
      apiKey: config.api_key,
    });
    
    await this.adapter.connect();
    
    // æ³¨å†Œå·¥å…·
    this.registerTools();
    
    // æ³¨å†Œ HTTP å¤„ç†å™¨
    this.registerHttpHandlers();
    
    context.logger.info("å°åŒ—é›†æˆæ’ä»¶å·²åŠ è½½");
  }

  async onUnload() {
    await this.adapter.disconnect();
  }

  private registerTools() {
    // æ·±åº¦ç ”ç©¶å·¥å…·
    this.context.registerTool({
      name: "xiaobei_research",
      description: "å¯åŠ¨å°åŒ—æ·±åº¦ç ”ç©¶ä»»åŠ¡",
      handler: async (params) => {
        return await this.adapter.startResearch(params);
      },
    });

    // ä»£ç æ‰§è¡Œå·¥å…·
    this.context.registerTool({
      name: "xiaobei_execute",
      description: "åœ¨å°åŒ—æ²™ç®±ä¸­æ‰§è¡Œä»£ç ",
      handler: async (params) => {
        return await this.adapter.executeCode(params);
      },
    });

    // ä»»åŠ¡ç®¡ç†å·¥å…·
    this.context.registerTool({
      name: "xiaobei_task",
      description: "ç®¡ç†å°åŒ—åå°ä»»åŠ¡",
      handler: async (params) => {
        return await this.adapter.manageTask(params);
      },
    });
  }

  private registerHttpHandlers() {
    // Webhook æ¥æ”¶å°åŒ—ä»»åŠ¡å®Œæˆé€šçŸ¥
    this.context.registerHttpHandler({
      method: "POST",
      path: "/xiaobei/webhook",
      handler: async (req, res) => {
        const event = req.body;
        await this.handleXiaoBeiEvent(event);
        res.json({ ok: true });
      },
    });
  }

  private async handleXiaoBeiEvent(event: any) {
    // å¤„ç†å°åŒ—æ¨é€çš„äº‹ä»¶
    switch (event.type) {
      case "task.completed":
        // ä»»åŠ¡å®Œæˆï¼Œé€šçŸ¥ç”¨æˆ·
        await this.context.sendMessage({
          channel: event.source_channel,
          content: `ä»»åŠ¡å·²å®Œæˆ: ${event.result}`,
        });
        break;
      case "task.failed":
        await this.context.sendMessage({
          channel: event.source_channel,
          content: `ä»»åŠ¡å¤±è´¥: ${event.error}`,
        });
        break;
    }
  }
}
```

### 4.3 æ–¹æ¡ˆä¸‰ï¼šå°åŒ—è°ƒç”¨ Openclaw API

#### 4.3.1 åœ¨å°åŒ—ä¸­æ·»åŠ  Openclaw å·¥å…·

åœ¨ `northau-xiaobei/artifacts/tools/` ä¸‹åˆ›å»º Openclaw å·¥å…·é…ç½®ï¼š

```yaml
# openclaw_channel.yaml
# å·¥å…·å®šä¹‰
# åŠŸèƒ½ï¼šé€šè¿‡ Openclaw å‘é€æ¶ˆæ¯åˆ°å¤šæ¸ é“
# æ”¯æŒæ¸ é“ï¼šWhatsAppã€Telegramã€é£ä¹¦ã€Discord ç­‰
# é€šä¿¡æ–¹å¼ï¼šWebSocket + HTTP API
# ä½œè€…ï¼šAI Integration

name: openclaw_send_message
description: é€šè¿‡ Openclaw å‘é€æ¶ˆæ¯åˆ°æŒ‡å®šæ¸ é“
parameters:
  type: object
  properties:
    channel:
      type: string
      enum: [whatsapp, telegram, feishu, discord, slack, signal]
      description: ç›®æ ‡æ¶ˆæ¯æ¸ é“
    recipient:
      type: string
      description: æ¥æ”¶è€…IDæˆ–ç¾¤ç»„ID
    message:
      type: string
      description: æ¶ˆæ¯å†…å®¹
    media_url:
      type: string
      description: å¯é€‰çš„åª’ä½“é™„ä»¶URL
  required: [channel, recipient, message]
```

#### 4.3.2 å·¥å…·å®ç° (Python)

```python
# northau-xiaobei/src/tools/openclaw_channel.py

import asyncio
import websockets
import json
from typing import Optional

# Openclaw æ¶ˆæ¯æ¸ é“å·¥å…·
# åŠŸèƒ½ï¼šé€šè¿‡ Openclaw Gateway å‘é€å¤šæ¸ é“æ¶ˆæ¯
# æ”¯æŒï¼šWhatsAppã€Telegramã€Discordã€é£ä¹¦ç­‰
# é€šä¿¡ï¼šWebSocket è¿æ¥ Openclaw Gateway
# ä½œè€…ï¼šAI Integration

class OpenclawChannelTool:
    """Openclaw æ¸ é“æ¶ˆæ¯å·¥å…·"""
    
    def __init__(self, gateway_url: str = "ws://localhost:18789", token: str = None):
        self.gateway_url = gateway_url
        self.token = token
        self.ws = None
    
    async def connect(self):
        """è¿æ¥åˆ° Openclaw Gateway"""
        headers = {}
        if self.token:
            headers["Authorization"] = f"Bearer {self.token}"
        self.ws = await websockets.connect(self.gateway_url, extra_headers=headers)
    
    async def disconnect(self):
        """æ–­å¼€è¿æ¥"""
        if self.ws:
            await self.ws.close()
    
    async def send_message(
        self,
        channel: str,
        recipient: str,
        message: str,
        media_url: Optional[str] = None
    ) -> dict:
        """
        å‘é€æ¶ˆæ¯åˆ°æŒ‡å®šæ¸ é“
        
        Args:
            channel: æ¸ é“ç±»å‹ (whatsapp/telegram/feishu/discordç­‰)
            recipient: æ¥æ”¶è€…ID
            message: æ¶ˆæ¯å†…å®¹
            media_url: å¯é€‰åª’ä½“URL
        
        Returns:
            å‘é€ç»“æœ
        """
        if not self.ws:
            await self.connect()
        
        # æ„å»º Openclaw æ¶ˆæ¯æ ¼å¼
        payload = {
            "jsonrpc": "2.0",
            "method": "chat.send",
            "params": {
                "channel": channel,
                "to": recipient,
                "content": message,
            },
            "id": str(asyncio.get_event_loop().time())
        }
        
        if media_url:
            payload["params"]["media"] = {"url": media_url}
        
        await self.ws.send(json.dumps(payload))
        response = await self.ws.recv()
        
        return json.loads(response)
    
    async def subscribe_messages(self, channel: str, callback):
        """
        è®¢é˜…æ¸ é“æ¶ˆæ¯
        
        Args:
            channel: æ¸ é“ç±»å‹
            callback: æ¶ˆæ¯å›è°ƒå‡½æ•°
        """
        if not self.ws:
            await self.connect()
        
        # è®¢é˜…æ¶ˆæ¯
        subscribe_payload = {
            "jsonrpc": "2.0",
            "method": "chat.subscribe",
            "params": {"channel": channel},
            "id": str(asyncio.get_event_loop().time())
        }
        
        await self.ws.send(json.dumps(subscribe_payload))
        
        # æŒç»­ç›‘å¬æ¶ˆæ¯
        async for message in self.ws:
            data = json.loads(message)
            if data.get("method") == "chat.message":
                await callback(data["params"])


# å·¥å…·å…¥å£å‡½æ•°
async def execute_openclaw_channel(
    channel: str,
    recipient: str,
    message: str,
    media_url: Optional[str] = None,
    **kwargs
) -> dict:
    """
    Openclaw æ¸ é“æ¶ˆæ¯å·¥å…·å…¥å£
    """
    import os
    
    gateway_url = os.getenv("OPENCLAW_GATEWAY_URL", "ws://localhost:18789")
    token = os.getenv("OPENCLAW_GATEWAY_TOKEN")
    
    tool = OpenclawChannelTool(gateway_url, token)
    
    try:
        result = await tool.send_message(channel, recipient, message, media_url)
        return {"success": True, "result": result}
    except Exception as e:
        return {"success": False, "error": str(e)}
    finally:
        await tool.disconnect()
```

---

## äº”ã€æ ¸å¿ƒæ•´åˆæ–¹æ¡ˆï¼šOpenclaw ä½œä¸ºå°åŒ—æœ¬åœ°æ‰§è¡Œåç«¯ï¼ˆé‡ç‚¹æ¨èï¼‰

> **æ ¸å¿ƒæ€æƒ³**ï¼šOpenclaw æ‹¥æœ‰å¼ºå¤§çš„æœ¬åœ°æ‰§è¡Œèƒ½åŠ›ï¼ˆæ–‡ä»¶æ“ä½œã€å‘½ä»¤æ‰§è¡Œã€æµè§ˆå™¨æ§åˆ¶ç­‰ï¼‰ï¼Œå¯ä»¥ä½œä¸ºå°åŒ—çš„"æœ¬åœ°æ‰§è¡Œå¼•æ“"ï¼Œæ›¿ä»£æˆ–è¡¥å……äº‘ç«¯ Sandboxã€‚ç”¨æˆ·å¯ä»¥çµæ´»é€‰æ‹©åœ¨æœ¬åœ°å·¥ä½œè¿˜æ˜¯åœ¨äº‘ç«¯æ²™ç®±å·¥ä½œã€‚

### 5.1 æ–°æ¶æ„æ¦‚è¿°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              æ–°æ¶æ„ï¼šå°åŒ—å‰ç«¯ + Openclaw æœ¬åœ°åç«¯ + å¯é€‰ Sandbox                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                         å‰ç«¯è§¦å‘å±‚ï¼ˆå¤šå…¥å£ç»Ÿä¸€ï¼‰                          â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â”‚
â”‚   â”‚  â”‚ Vide FDE   â”‚  â”‚   é£ä¹¦     â”‚  â”‚ WhatsApp   â”‚  â”‚  Telegram  â”‚        â”‚  â”‚
â”‚   â”‚  â”‚ (Webå‰ç«¯)  â”‚  â”‚  (ä¼ä¸šIM)  â”‚  â”‚ (ä¸ªäººIM)   â”‚  â”‚  (ä¸ªäººIM)  â”‚        â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚             â”‚               â”‚               â”‚               â”‚                  â”‚
â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                     â–¼                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                    å°åŒ— Coreï¼ˆä»»åŠ¡è°ƒåº¦ + AI å¤§è„‘ï¼‰                        â”‚  â”‚
â”‚   â”‚                    north-app-core (Go + gRPC)                            â”‚  â”‚
â”‚   â”‚                    + DeerFlow (æ·±åº¦ç ”ç©¶)                                  â”‚  â”‚
â”‚   â”‚                    + northau-xiaobei (Agent é€»è¾‘)                         â”‚  â”‚
â”‚   â”‚                                                                          â”‚  â”‚
â”‚   â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚   â”‚    â”‚              ğŸ”€ æ‰§è¡Œåç«¯é€‰æ‹©å™¨ (Workspace Router)              â”‚     â”‚  â”‚
â”‚   â”‚    â”‚           workspace_type: "local" | "sandbox" | "auto"        â”‚     â”‚  â”‚
â”‚   â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                   â”‚                                            â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚              â–¼                                         â–¼                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚   ğŸ–¥ï¸ æœ¬åœ°æ¨¡å¼ (LOCAL)        â”‚       â”‚   â˜ï¸ æ²™ç®±æ¨¡å¼ (SANDBOX)      â”‚      â”‚
â”‚   â”‚                             â”‚       â”‚                             â”‚      â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚      â”‚
â”‚   â”‚  â”‚   Openclaw Gateway    â”‚  â”‚       â”‚  â”‚      E2B / BP         â”‚  â”‚      â”‚
â”‚   â”‚  â”‚   (æœ¬åœ°æ‰§è¡Œå¼•æ“)       â”‚  â”‚       â”‚  â”‚     (äº‘ç«¯æ²™ç®±)         â”‚  â”‚      â”‚
â”‚   â”‚  â”‚   ws://localhost:18789â”‚  â”‚       â”‚  â”‚   api.e2b.dev         â”‚  â”‚      â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚      â”‚
â”‚   â”‚                             â”‚       â”‚                             â”‚      â”‚
â”‚   â”‚  âœ… æœ¬åœ°æ–‡ä»¶è¯»å†™            â”‚       â”‚  âœ… å®Œå…¨éš”ç¦»ç¯å¢ƒ            â”‚      â”‚
â”‚   â”‚  âœ… æœ¬åœ°å‘½ä»¤æ‰§è¡Œ            â”‚       â”‚  âœ… å®‰å…¨æ‰§è¡Œä¸ä¿¡ä»»ä»£ç        â”‚      â”‚
â”‚   â”‚  âœ… æµè§ˆå™¨è‡ªåŠ¨åŒ–            â”‚       â”‚  âœ… èµ„æºé™åˆ¶å’Œç›‘æ§          â”‚      â”‚
â”‚   â”‚  âœ… æœ¬åœ° Git æ“ä½œ           â”‚       â”‚  âœ… å¤šç§Ÿæˆ·æ”¯æŒ              â”‚      â”‚
â”‚   â”‚  âœ… æœ¬åœ°æ•°æ®åº“/æœåŠ¡è®¿é—®      â”‚       â”‚  âŒ æ— æ³•è®¿é—®æœ¬åœ°èµ„æº         â”‚      â”‚
â”‚   â”‚  âœ… é›¶ç½‘ç»œå»¶è¿Ÿ              â”‚       â”‚  âš ï¸ æœ‰ç½‘ç»œå»¶è¿Ÿ              â”‚      â”‚
â”‚   â”‚  âœ… æ— äº‘ç«¯è´¹ç”¨              â”‚       â”‚  âš ï¸ æŒ‰é‡ä»˜è´¹                â”‚      â”‚
â”‚   â”‚                             â”‚       â”‚                             â”‚      â”‚
â”‚   â”‚  é€‚ç”¨åœºæ™¯:                  â”‚       â”‚  é€‚ç”¨åœºæ™¯:                  â”‚      â”‚
â”‚   â”‚  - å¼€å‘è°ƒè¯•æœ¬åœ°é¡¹ç›®         â”‚       â”‚  - æ‰§è¡Œä¸ä¿¡ä»»çš„å¤–éƒ¨ä»£ç       â”‚      â”‚
â”‚   â”‚  - ä¸ªäºº AI åŠ©æ‰‹            â”‚       â”‚  - å¤šç”¨æˆ·å…±äº«ç¯å¢ƒ            â”‚      â”‚
â”‚   â”‚  - æœ¬åœ°è‡ªåŠ¨åŒ–è„šæœ¬          â”‚       â”‚  - ç”Ÿäº§ç¯å¢ƒéš”ç¦»éœ€æ±‚          â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 ä¸ºä»€ä¹ˆè¿™ä¸ªæ–¹æ¡ˆæ›´å¥½ï¼Ÿ

| å¯¹æ¯”ç»´åº¦ | åŸæ–¹æ¡ˆï¼ˆä»… Sandboxï¼‰ | æ–°æ–¹æ¡ˆï¼ˆæœ¬åœ° + Sandboxï¼‰ |
|---------|---------------------|------------------------|
| **æœ¬åœ°æ–‡ä»¶è®¿é—®** | âŒ æ— æ³•è®¿é—® | âœ… å®Œå…¨è®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ |
| **æœ¬åœ°æœåŠ¡** | âŒ æ— æ³•è¿æ¥ | âœ… å¯ä»¥è¿æ¥æœ¬åœ°æ•°æ®åº“ã€API ç­‰ |
| **æ‰§è¡Œå»¶è¿Ÿ** | âš ï¸ ç½‘ç»œå»¶è¿Ÿ | âœ… é›¶å»¶è¿Ÿ |
| **è´¹ç”¨** | ğŸ’° æŒ‰é‡ä»˜è´¹ | âœ… å…è´¹ï¼ˆæœ¬åœ°æ¨¡å¼ï¼‰ |
| **å®‰å…¨æ€§** | âœ… é«˜ï¼ˆéš”ç¦»ï¼‰ | âš ï¸ éœ€é…ç½®å®‰å…¨ç­–ç•¥ |
| **çµæ´»æ€§** | å•ä¸€æ¨¡å¼ | âœ… å¯åˆ‡æ¢æ¨¡å¼ |

### 5.3 Openclaw æœ¬åœ°æ‰§è¡Œèƒ½åŠ›è¯¦è§£

Openclaw ä½œä¸ºæœ¬åœ°åç«¯ï¼Œæä¾›ä»¥ä¸‹èƒ½åŠ›ï¼š

#### 5.3.1 æ–‡ä»¶ç³»ç»Ÿæ“ä½œï¼ˆå®Œæ•´ï¼‰
```typescript
// Openclaw å†…ç½®æ–‡ä»¶å·¥å…· (src/agents/tools/)
file_read       // è¯»å–ä»»æ„æœ¬åœ°æ–‡ä»¶
file_write      // å†™å…¥æœ¬åœ°æ–‡ä»¶
file_edit       // æ™ºèƒ½ç¼–è¾‘ï¼ˆæ”¯æŒ diffï¼‰
file_search     // å…¨æ–‡æœç´¢æ–‡ä»¶å†…å®¹
directory_list  // åˆ—å‡ºç›®å½•å†…å®¹
directory_tree  // ç”Ÿæˆç›®å½•æ ‘ç»“æ„
file_delete     // åˆ é™¤æ–‡ä»¶
file_move       // ç§»åŠ¨/é‡å‘½åæ–‡ä»¶
```

#### 5.3.2 å‘½ä»¤æ‰§è¡Œï¼ˆæœ¬åœ° Shellï¼‰
```typescript
// Openclaw å‘½ä»¤æ‰§è¡Œèƒ½åŠ›
shell_exec      // æ‰§è¡Œä»»æ„ shell å‘½ä»¤
script_run      // è¿è¡Œè„šæœ¬æ–‡ä»¶ (.py, .sh, .js)
process_spawn   // å¯åŠ¨åå°è¿›ç¨‹
process_kill    // ç»ˆæ­¢è¿›ç¨‹
process_list    // åˆ—å‡ºè¿è¡Œä¸­çš„è¿›ç¨‹
```

#### 5.3.3 æµè§ˆå™¨è‡ªåŠ¨åŒ–ï¼ˆPlaywrightï¼‰
```typescript
// Openclaw æµè§ˆå™¨æ§åˆ¶
browser_navigate    // å¯¼èˆªåˆ° URL
browser_click       // ç‚¹å‡»å…ƒç´ 
browser_type        // è¾“å…¥æ–‡æœ¬
browser_screenshot  // é¡µé¢æˆªå›¾
browser_extract     // æå–é¡µé¢å†…å®¹
browser_evaluate    // æ‰§è¡Œ JavaScript
```

#### 5.3.4 Git ç‰ˆæœ¬æ§åˆ¶
```typescript
// Openclaw Git æ“ä½œ
git_clone       // å…‹éš†ä»“åº“
git_status      // æŸ¥çœ‹çŠ¶æ€
git_commit      // æäº¤æ›´æ”¹
git_push        // æ¨é€ä»£ç 
git_pull        // æ‹‰å–ä»£ç 
git_diff        // æŸ¥çœ‹å·®å¼‚
git_branch      // åˆ†æ”¯ç®¡ç†
```

### 5.4 æ•´åˆå®ç°ä»£ç 

#### 5.4.1 å·¥ä½œç©ºé—´ç±»å‹å®šä¹‰

```go
// north-app-core/internal/types/workspace.go

// WorkspaceType å·¥ä½œç©ºé—´æ‰§è¡Œåç«¯ç±»å‹
// åŠŸèƒ½ï¼šå®šä¹‰ä»»åŠ¡æ‰§è¡Œçš„åç«¯ç±»å‹ï¼ˆæœ¬åœ° vs äº‘ç«¯ï¼‰
// LOCAL: ä½¿ç”¨ Openclaw åœ¨ç”¨æˆ·æœ¬åœ°æœºå™¨æ‰§è¡Œ
// SANDBOX: ä½¿ç”¨ E2B äº‘ç«¯æ²™ç®±æ‰§è¡Œ
// AUTO: æ ¹æ®ä»»åŠ¡ç±»å‹è‡ªåŠ¨é€‰æ‹©
type WorkspaceType string

const (
    WorkspaceLocal   WorkspaceType = "local"    // æœ¬åœ°æ‰§è¡Œï¼ˆé€šè¿‡ Openclawï¼‰
    WorkspaceSandbox WorkspaceType = "sandbox"  // äº‘ç«¯æ²™ç®±ï¼ˆE2B/BPï¼‰
    WorkspaceAuto    WorkspaceType = "auto"     // è‡ªåŠ¨é€‰æ‹©
)

// WorkspaceConfig å·¥ä½œç©ºé—´é…ç½®
type WorkspaceConfig struct {
    // é»˜è®¤æ‰§è¡Œç±»å‹
    DefaultType WorkspaceType `json:"default_type" yaml:"DefaultType"`
    
    // æœ¬åœ°æ¨¡å¼é…ç½®ï¼ˆOpenclawï¼‰
    Local LocalConfig `json:"local" yaml:"Local"`
    
    // æ²™ç®±æ¨¡å¼é…ç½®ï¼ˆE2Bï¼‰
    Sandbox SandboxConfig `json:"sandbox" yaml:"Sandbox"`
    
    // è‡ªåŠ¨é€‰æ‹©ç­–ç•¥
    AutoStrategy AutoStrategyConfig `json:"auto_strategy" yaml:"AutoStrategy"`
}

// LocalConfig Openclaw æœ¬åœ°æ‰§è¡Œé…ç½®
type LocalConfig struct {
    Enabled       bool     `json:"enabled" yaml:"Enabled"`
    OpenclawURL   string   `json:"openclaw_url" yaml:"OpenclawURL"`     // WebSocket åœ°å€
    OpenclawToken string   `json:"openclaw_token" yaml:"OpenclawToken"` // è®¤è¯ Token
    WorkDir       string   `json:"work_dir" yaml:"WorkDir"`             // é»˜è®¤å·¥ä½œç›®å½•
    AllowedPaths  []string `json:"allowed_paths" yaml:"AllowedPaths"`   // å…è®¸è®¿é—®çš„è·¯å¾„ç™½åå•
}
```

#### 5.4.2 Openclaw é€‚é…å™¨ï¼ˆæ ¸å¿ƒï¼‰

```go
// north-app-core/internal/adapter/openclaw_adapter.go

package adapter

import (
    "context"
    "encoding/json"
    "fmt"
    "sync/atomic"
    "time"
    
    "github.com/gorilla/websocket"
)

// OpenclawAdapter Openclaw æœ¬åœ°æ‰§è¡Œé€‚é…å™¨
// åŠŸèƒ½ï¼šé€šè¿‡ WebSocket è¿æ¥ Openclaw Gatewayï¼Œæ‰§è¡Œæœ¬åœ°æ“ä½œ
// é€šä¿¡åè®®ï¼šJSON-RPC 2.0 over WebSocket
// æ”¯æŒæ“ä½œï¼šæ–‡ä»¶è¯»å†™ã€å‘½ä»¤æ‰§è¡Œã€æµè§ˆå™¨æ§åˆ¶ã€Git æ“ä½œ
// ä½œè€…ï¼šXiaoBei Integration
type OpenclawAdapter struct {
    gatewayURL string
    token      string
    conn       *websocket.Conn
    requestID  int64
    
    // å“åº”é€šé“æ˜ å°„
    responses  map[int64]chan *RPCResponse
    responseMu sync.RWMutex
}

// RPCRequest JSON-RPC è¯·æ±‚
type RPCRequest struct {
    JSONRPC string      `json:"jsonrpc"`
    Method  string      `json:"method"`
    Params  interface{} `json:"params"`
    ID      int64       `json:"id"`
}

// RPCResponse JSON-RPC å“åº”
type RPCResponse struct {
    JSONRPC string      `json:"jsonrpc"`
    Result  interface{} `json:"result,omitempty"`
    Error   *RPCError   `json:"error,omitempty"`
    ID      int64       `json:"id"`
}

// RPCError RPC é”™è¯¯
type RPCError struct {
    Code    int    `json:"code"`
    Message string `json:"message"`
}

// NewOpenclawAdapter åˆ›å»º Openclaw é€‚é…å™¨å®ä¾‹
func NewOpenclawAdapter(url, token string) *OpenclawAdapter {
    return &OpenclawAdapter{
        gatewayURL: url,
        token:      token,
        responses:  make(map[int64]chan *RPCResponse),
    }
}

// Connect è¿æ¥åˆ° Openclaw Gateway
func (a *OpenclawAdapter) Connect(ctx context.Context) error {
    header := make(http.Header)
    if a.token != "" {
        header.Set("Authorization", "Bearer "+a.token)
    }
    
    dialer := websocket.Dialer{
        HandshakeTimeout: 10 * time.Second,
    }
    
    conn, _, err := dialer.DialContext(ctx, a.gatewayURL, header)
    if err != nil {
        return fmt.Errorf("è¿æ¥ Openclaw Gateway å¤±è´¥: %w", err)
    }
    
    a.conn = conn
    
    // å¯åŠ¨æ¶ˆæ¯æ¥æ”¶åç¨‹
    go a.receiveLoop()
    
    return nil
}

// receiveLoop æ¥æ”¶æ¶ˆæ¯å¾ªç¯
func (a *OpenclawAdapter) receiveLoop() {
    for {
        _, message, err := a.conn.ReadMessage()
        if err != nil {
            return
        }
        
        var response RPCResponse
        if err := json.Unmarshal(message, &response); err != nil {
            continue
        }
        
        a.responseMu.RLock()
        ch, ok := a.responses[response.ID]
        a.responseMu.RUnlock()
        
        if ok {
            ch <- &response
        }
    }
}

// invoke è°ƒç”¨ Openclaw RPC æ–¹æ³•
func (a *OpenclawAdapter) invoke(ctx context.Context, method string, params interface{}) (interface{}, error) {
    id := atomic.AddInt64(&a.requestID, 1)
    
    // åˆ›å»ºå“åº”é€šé“
    respCh := make(chan *RPCResponse, 1)
    a.responseMu.Lock()
    a.responses[id] = respCh
    a.responseMu.Unlock()
    
    defer func() {
        a.responseMu.Lock()
        delete(a.responses, id)
        a.responseMu.Unlock()
    }()
    
    // å‘é€è¯·æ±‚
    request := RPCRequest{
        JSONRPC: "2.0",
        Method:  method,
        Params:  params,
        ID:      id,
    }
    
    if err := a.conn.WriteJSON(request); err != nil {
        return nil, fmt.Errorf("å‘é€è¯·æ±‚å¤±è´¥: %w", err)
    }
    
    // ç­‰å¾…å“åº”
    select {
    case resp := <-respCh:
        if resp.Error != nil {
            return nil, fmt.Errorf("Openclaw é”™è¯¯ [%d]: %s", resp.Error.Code, resp.Error.Message)
        }
        return resp.Result, nil
    case <-ctx.Done():
        return nil, ctx.Err()
    }
}

// ========== æ–‡ä»¶æ“ä½œ ==========

// FileRead è¯»å–æ–‡ä»¶å†…å®¹
func (a *OpenclawAdapter) FileRead(ctx context.Context, path string) (string, error) {
    result, err := a.invoke(ctx, "tools.invoke", map[string]interface{}{
        "tool": "file_read",
        "params": map[string]interface{}{
            "path": path,
        },
    })
    if err != nil {
        return "", err
    }
    return result.(map[string]interface{})["content"].(string), nil
}

// FileWrite å†™å…¥æ–‡ä»¶å†…å®¹
func (a *OpenclawAdapter) FileWrite(ctx context.Context, path, content string) error {
    _, err := a.invoke(ctx, "tools.invoke", map[string]interface{}{
        "tool": "file_write",
        "params": map[string]interface{}{
            "path":    path,
            "content": content,
        },
    })
    return err
}

// FileEdit ç¼–è¾‘æ–‡ä»¶ï¼ˆæ›¿æ¢å†…å®¹ï¼‰
func (a *OpenclawAdapter) FileEdit(ctx context.Context, path, oldStr, newStr string) error {
    _, err := a.invoke(ctx, "tools.invoke", map[string]interface{}{
        "tool": "file_edit",
        "params": map[string]interface{}{
            "path":       path,
            "old_string": oldStr,
            "new_string": newStr,
        },
    })
    return err
}

// ListDir åˆ—å‡ºç›®å½•å†…å®¹
func (a *OpenclawAdapter) ListDir(ctx context.Context, path string) ([]FileInfo, error) {
    result, err := a.invoke(ctx, "tools.invoke", map[string]interface{}{
        "tool": "directory_list",
        "params": map[string]interface{}{
            "path": path,
        },
    })
    if err != nil {
        return nil, err
    }
    
    // è§£æç»“æœ
    var files []FileInfo
    // ... è§£æé€»è¾‘
    return files, nil
}

// ========== å‘½ä»¤æ‰§è¡Œ ==========

// ExecuteShell æ‰§è¡Œ Shell å‘½ä»¤
func (a *OpenclawAdapter) ExecuteShell(ctx context.Context, command, workDir string) (*ShellResult, error) {
    result, err := a.invoke(ctx, "tools.invoke", map[string]interface{}{
        "tool": "shell_exec",
        "params": map[string]interface{}{
            "command":  command,
            "work_dir": workDir,
        },
    })
    if err != nil {
        return nil, err
    }
    
    resultMap := result.(map[string]interface{})
    return &ShellResult{
        Stdout:   resultMap["stdout"].(string),
        Stderr:   resultMap["stderr"].(string),
        ExitCode: int(resultMap["exit_code"].(float64)),
    }, nil
}

// ExecuteCode æ‰§è¡Œä»£ç 
func (a *OpenclawAdapter) ExecuteCode(ctx context.Context, code, language, workDir string) (*CodeResult, error) {
    var command string
    
    switch language {
    case "python":
        command = fmt.Sprintf("python3 -c %q", code)
    case "javascript", "js":
        command = fmt.Sprintf("node -e %q", code)
    case "bash", "shell":
        command = code
    default:
        return nil, fmt.Errorf("ä¸æ”¯æŒçš„è¯­è¨€: %s", language)
    }
    
    shellResult, err := a.ExecuteShell(ctx, command, workDir)
    if err != nil {
        return nil, err
    }
    
    return &CodeResult{
        Stdout:   shellResult.Stdout,
        Stderr:   shellResult.Stderr,
        ExitCode: shellResult.ExitCode,
    }, nil
}

// ========== æµè§ˆå™¨æ“ä½œ ==========

// BrowserNavigate æµè§ˆå™¨å¯¼èˆª
func (a *OpenclawAdapter) BrowserNavigate(ctx context.Context, url string) error {
    _, err := a.invoke(ctx, "tools.invoke", map[string]interface{}{
        "tool": "browser_navigate",
        "params": map[string]interface{}{
            "url": url,
        },
    })
    return err
}

// BrowserScreenshot æµè§ˆå™¨æˆªå›¾
func (a *OpenclawAdapter) BrowserScreenshot(ctx context.Context) ([]byte, error) {
    result, err := a.invoke(ctx, "tools.invoke", map[string]interface{}{
        "tool": "browser_screenshot",
        "params": map[string]interface{}{},
    })
    if err != nil {
        return nil, err
    }
    
    // Base64 è§£ç 
    base64Data := result.(map[string]interface{})["data"].(string)
    return base64.StdEncoding.DecodeString(base64Data)
}

// Close å…³é—­è¿æ¥
func (a *OpenclawAdapter) Close() error {
    if a.conn != nil {
        return a.conn.Close()
    }
    return nil
}
```

#### 5.4.3 ç»Ÿä¸€æ‰§è¡Œå™¨æ¥å£

```go
// north-app-core/internal/executor/interface.go

package executor

import "context"

// Executor ç»Ÿä¸€æ‰§è¡Œå™¨æ¥å£
// åŠŸèƒ½ï¼šæŠ½è±¡æœ¬åœ°æ‰§è¡Œå’Œäº‘ç«¯æ²™ç®±ä¸¤ç§æ¨¡å¼
// è°ƒç”¨æ–¹æ— éœ€å…³å¿ƒåº•å±‚æ‰§è¡Œæ–¹å¼ï¼Œç»Ÿä¸€è°ƒç”¨æ­¤æ¥å£
// å®ç°ç±»ï¼šOpenclawExecutorï¼ˆæœ¬åœ°ï¼‰ã€SandboxExecutorï¼ˆE2Bï¼‰
// ä½œè€…ï¼šXiaoBei Integration
type Executor interface {
    // ä»£ç æ‰§è¡Œ
    ExecuteCode(ctx context.Context, req *CodeRequest) (*CodeResult, error)
    
    // Shell å‘½ä»¤æ‰§è¡Œ
    ExecuteShell(ctx context.Context, req *ShellRequest) (*ShellResult, error)
    
    // æ–‡ä»¶æ“ä½œ
    FileRead(ctx context.Context, path string) ([]byte, error)
    FileWrite(ctx context.Context, path string, content []byte) error
    FileEdit(ctx context.Context, path string, oldStr, newStr string) error
    ListDir(ctx context.Context, path string) ([]FileInfo, error)
    
    // è·å–æ‰§è¡Œå™¨ç±»å‹
    GetType() WorkspaceType
    
    // å…³é—­æ‰§è¡Œå™¨
    Close() error
}

// ExecutorFactory æ‰§è¡Œå™¨å·¥å‚
// æ ¹æ®é…ç½®åˆ›å»ºå¯¹åº”ç±»å‹çš„æ‰§è¡Œå™¨
func NewExecutor(config *WorkspaceConfig, workspaceType WorkspaceType) (Executor, error) {
    actualType := workspaceType
    if actualType == WorkspaceAuto {
        actualType = config.DefaultType
    }
    
    switch actualType {
    case WorkspaceLocal:
        if !config.Local.Enabled {
            return nil, fmt.Errorf("æœ¬åœ°æ¨¡å¼æœªå¯ç”¨")
        }
        return NewOpenclawExecutor(&config.Local)
        
    case WorkspaceSandbox:
        if !config.Sandbox.Enabled {
            return nil, fmt.Errorf("æ²™ç®±æ¨¡å¼æœªå¯ç”¨")
        }
        return NewSandboxExecutor(&config.Sandbox)
        
    default:
        return nil, fmt.Errorf("æœªçŸ¥çš„å·¥ä½œç©ºé—´ç±»å‹: %s", actualType)
    }
}
```

#### 5.4.4 æœ¬åœ°æ‰§è¡Œå™¨å®ç°

```go
// north-app-core/internal/executor/openclaw_executor.go

package executor

// OpenclawExecutor åŸºäº Openclaw çš„æœ¬åœ°æ‰§è¡Œå™¨
// åŠŸèƒ½ï¼šé€šè¿‡ Openclaw Gateway åœ¨ç”¨æˆ·æœ¬åœ°æœºå™¨æ‰§è¡Œæ“ä½œ
// ä¼˜åŠ¿ï¼šé›¶å»¶è¿Ÿã€æ— äº‘ç«¯è´¹ç”¨ã€å¯è®¿é—®æ‰€æœ‰æœ¬åœ°èµ„æº
// é€‚ç”¨åœºæ™¯ï¼šå¼€å‘è°ƒè¯•ã€æœ¬åœ°é¡¹ç›®æ“ä½œã€ä¸ªäºº AI åŠ©æ‰‹
// ä½œè€…ï¼šXiaoBei Integration
type OpenclawExecutor struct {
    adapter *adapter.OpenclawAdapter
    workDir string
    config  *LocalConfig
}

// NewOpenclawExecutor åˆ›å»ºæœ¬åœ°æ‰§è¡Œå™¨
func NewOpenclawExecutor(config *LocalConfig) (*OpenclawExecutor, error) {
    adapter := adapter.NewOpenclawAdapter(config.OpenclawURL, config.OpenclawToken)
    
    ctx, cancel := context.WithTimeout(context.Background(), 10*time.Second)
    defer cancel()
    
    if err := adapter.Connect(ctx); err != nil {
        return nil, fmt.Errorf("è¿æ¥ Openclaw å¤±è´¥: %w", err)
    }
    
    return &OpenclawExecutor{
        adapter: adapter,
        workDir: config.WorkDir,
        config:  config,
    }, nil
}

func (e *OpenclawExecutor) ExecuteCode(ctx context.Context, req *CodeRequest) (*CodeResult, error) {
    workDir := req.WorkDir
    if workDir == "" {
        workDir = e.workDir
    }
    return e.adapter.ExecuteCode(ctx, req.Code, req.Language, workDir)
}

func (e *OpenclawExecutor) ExecuteShell(ctx context.Context, req *ShellRequest) (*ShellResult, error) {
    // å®‰å…¨æ£€æŸ¥ï¼šéªŒè¯å‘½ä»¤æ˜¯å¦åœ¨å…è®¸åˆ—è¡¨å†…
    if err := e.validateCommand(req.Command); err != nil {
        return nil, err
    }
    
    workDir := req.WorkDir
    if workDir == "" {
        workDir = e.workDir
    }
    return e.adapter.ExecuteShell(ctx, req.Command, workDir)
}

func (e *OpenclawExecutor) FileRead(ctx context.Context, path string) ([]byte, error) {
    // å®‰å…¨æ£€æŸ¥ï¼šéªŒè¯è·¯å¾„æ˜¯å¦åœ¨å…è®¸èŒƒå›´å†…
    if err := e.validatePath(path); err != nil {
        return nil, err
    }
    
    content, err := e.adapter.FileRead(ctx, path)
    if err != nil {
        return nil, err
    }
    return []byte(content), nil
}

func (e *OpenclawExecutor) FileWrite(ctx context.Context, path string, content []byte) error {
    if err := e.validatePath(path); err != nil {
        return err
    }
    return e.adapter.FileWrite(ctx, path, string(content))
}

func (e *OpenclawExecutor) GetType() WorkspaceType {
    return WorkspaceLocal
}

func (e *OpenclawExecutor) Close() error {
    return e.adapter.Close()
}

// validatePath éªŒè¯è·¯å¾„æ˜¯å¦åœ¨å…è®¸èŒƒå›´å†…
func (e *OpenclawExecutor) validatePath(path string) error {
    if len(e.config.AllowedPaths) == 0 {
        return nil // æœªé…ç½®ç™½åå•ï¼Œå…è®¸æ‰€æœ‰
    }
    
    absPath, _ := filepath.Abs(path)
    for _, allowed := range e.config.AllowedPaths {
        if strings.HasPrefix(absPath, allowed) {
            return nil
        }
    }
    
    return fmt.Errorf("è·¯å¾„ %s ä¸åœ¨å…è®¸è®¿é—®èŒƒå›´å†…", path)
}
```

### 5.5 é…ç½®æ–‡ä»¶ç¤ºä¾‹

#### 5.5.1 å°åŒ—é…ç½®ï¼ˆæ”¯æŒæœ¬åœ° + æ²™ç®±åŒæ¨¡å¼ï¼‰

```yaml
# north-app-core/etc/core.yaml

Name: xiaobei-core
Host: 0.0.0.0
Port: 8080

# ============ å·¥ä½œç©ºé—´é…ç½®ï¼ˆæ ¸å¿ƒæ–°å¢ï¼‰============
Workspace:
  # é»˜è®¤æ‰§è¡Œæ¨¡å¼: local | sandbox | auto
  DefaultType: local  # æ¨èé»˜è®¤ä½¿ç”¨æœ¬åœ°æ¨¡å¼
  
  # æœ¬åœ°æ¨¡å¼é…ç½®ï¼ˆåŸºäº Openclawï¼‰
  Local:
    Enabled: true
    OpenclawURL: "ws://localhost:18789"
    OpenclawToken: ""  # å¯é€‰ï¼Œæœ¬åœ°ä½¿ç”¨é€šå¸¸ä¸éœ€è¦
    WorkDir: "/Users/xxx/workspace"  # é»˜è®¤å·¥ä½œç›®å½•
    AllowedPaths:  # å®‰å…¨ï¼šé™åˆ¶å¯è®¿é—®çš„è·¯å¾„
      - "/Users/xxx/projects"
      - "/Users/xxx/workspace"
      - "/tmp"
  
  # æ²™ç®±æ¨¡å¼é…ç½®ï¼ˆE2B äº‘ç«¯ï¼‰
  Sandbox:
    Enabled: true
    Provider: "e2b"
    APIKey: "${E2B_API_KEY}"
    Template: "python-data-science"
    Timeout: 60
  
  # è‡ªåŠ¨é€‰æ‹©ç­–ç•¥
  AutoStrategy:
    Default: "local"  # é»˜è®¤ä½¿ç”¨æœ¬åœ°
    # ä»¥ä¸‹æƒ…å†µè‡ªåŠ¨åˆ‡æ¢åˆ°æ²™ç®±
    UseSandboxWhen:
      - "untrusted_code"       # ä»£ç æ¥è‡ªä¸ä¿¡ä»»çš„æ¥æº
      - "external_submission"  # å¤–éƒ¨ç”¨æˆ·æäº¤
      - "explicit_request"     # ç”¨æˆ·æ˜ç¡®è¦æ±‚æ²™ç®±

# æ•°æ®åº“é…ç½®
Database:
  PostgreSQL:
    DataSource: postgres://user:pass@localhost:5432/xiaobei

# AI æ¨¡å‹é…ç½®
AI:
  Provider: litellm
  Models:
    Default: anthropic/claude-sonnet-4
```

#### 5.5.2 Openclaw é…ç½®ï¼ˆä½œä¸ºæœ¬åœ°æ‰§è¡Œåç«¯ï¼‰

```json5
// ~/.openclaw/openclaw.json

{
  // Agent é…ç½®ï¼ˆOpenclaw è‡ªå·±çš„ AI èƒ½åŠ›ï¼‰
  "agent": {
    "model": "anthropic/claude-sonnet-4"
  },
  
  // Gateway é…ç½®ï¼ˆä¾›å°åŒ—è¿æ¥ï¼‰
  "gateway": {
    "port": 18789,
    "host": "127.0.0.1"  // ä»…æœ¬åœ°è®¿é—®ï¼Œå®‰å…¨
  },
  
  // å®‰å…¨é…ç½®
  "security": {
    // å…è®¸è®¿é—®çš„ç›®å½•ç™½åå•
    "allowed_directories": [
      "/Users/xxx/projects",
      "/Users/xxx/workspace"
    ],
    // ç¦æ­¢æ‰§è¡Œçš„å±é™©å‘½ä»¤
    "blocked_commands": [
      "rm -rf /",
      "sudo rm",
      "chmod 777 /",
      "mkfs",
      "> /dev/sda"
    ],
    // å±é™©æ“ä½œéœ€è¦ç¡®è®¤
    "require_confirmation": [
      "rm -rf",
      "git push --force"
    ]
  }
}
```

### 5.6 å‰ç«¯ UI è®¾è®¡ï¼ˆå·¥ä½œç©ºé—´é€‰æ‹©ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å°åŒ—è®¾ç½® - å·¥ä½œç©ºé—´é…ç½®                                 [x]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  æ‰§è¡Œæ¨¡å¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  â— æœ¬åœ°æ¨¡å¼ (æ¨è)                                       â”‚   â”‚
â”‚  â”‚    é€šè¿‡ Openclaw åœ¨æœ¬åœ°æ‰§è¡Œï¼Œå¯è®¿é—®æœ¬åœ°æ–‡ä»¶å’ŒæœåŠ¡          â”‚   â”‚
â”‚  â”‚    âœ… é›¶å»¶è¿Ÿ  âœ… å…è´¹  âœ… å¯è®¿é—®æœ¬åœ°èµ„æº                   â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  â—‹ äº‘ç«¯æ²™ç®±æ¨¡å¼                                          â”‚   â”‚
â”‚  â”‚    åœ¨ E2B äº‘ç«¯éš”ç¦»ç¯å¢ƒæ‰§è¡Œï¼Œæ›´å®‰å…¨ä½†æ— æ³•è®¿é—®æœ¬åœ°           â”‚   â”‚
â”‚  â”‚    âœ… å®Œå…¨éš”ç¦»  âœ… é€‚åˆä¸ä¿¡ä»»ä»£ç   âš ï¸ æœ‰å»¶è¿Ÿå’Œè´¹ç”¨         â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  â—‹ æ™ºèƒ½æ¨¡å¼                                              â”‚   â”‚
â”‚  â”‚    æ ¹æ®ä»»åŠ¡ç±»å‹è‡ªåŠ¨é€‰æ‹©æœ€åˆé€‚çš„æ‰§è¡Œç¯å¢ƒ                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                 â”‚
â”‚  æœ¬åœ°æ¨¡å¼é…ç½®                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Openclaw åœ°å€: [ws://localhost:18789        ]          â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  é»˜è®¤å·¥ä½œç›®å½•: [/Users/xxx/workspace        ] [ğŸ“é€‰æ‹©]   â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  è¿æ¥çŠ¶æ€: â— å·²è¿æ¥åˆ° Openclaw Gateway                    â”‚   â”‚
â”‚  â”‚           ç‰ˆæœ¬: 2026.2.3                                 â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  [ğŸ”„ æµ‹è¯•è¿æ¥]                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  å®‰å…¨è®¾ç½®                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  â˜‘ å…è®¸æ‰§è¡Œ Shell å‘½ä»¤                                   â”‚   â”‚
â”‚  â”‚  â˜‘ å…è®¸è¯»å†™æ–‡ä»¶                                          â”‚   â”‚
â”‚  â”‚  â˜ å…è®¸æµè§ˆå™¨è‡ªåŠ¨åŒ–                                      â”‚   â”‚
â”‚  â”‚  â˜‘ å±é™©æ“ä½œå‰éœ€è¦ç¡®è®¤                                    â”‚   â”‚
â”‚  â”‚  â˜‘ é™åˆ¶å¯è®¿é—®çš„ç›®å½•ï¼ˆä»…å…è®¸å·¥ä½œç›®å½•ï¼‰                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚                                   [å–æ¶ˆ]  [ğŸ’¾ ä¿å­˜è®¾ç½®]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.7 ä½¿ç”¨æµç¨‹ç¤ºä¾‹

#### 5.7.1 æœ¬åœ°æ¨¡å¼å·¥ä½œæµ

```
ç”¨æˆ·ï¼ˆé€šè¿‡ Vide FDE å‰ç«¯æˆ–é£ä¹¦ï¼‰: 
  "å¸®æˆ‘åœ¨ /Users/xxx/projects/myapp ç›®å½•ä¸‹æ‰§è¡Œ npm installï¼Œç„¶åå¯åŠ¨å¼€å‘æœåŠ¡å™¨"

å°åŒ—å¤„ç†æµç¨‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. æ¥æ”¶ä»»åŠ¡è¯·æ±‚                                              â”‚
â”‚ 2. æ£€æŸ¥å·¥ä½œç©ºé—´é…ç½® â†’ æœ¬åœ°æ¨¡å¼                                â”‚
â”‚ 3. åˆ›å»º OpenclawExecutorï¼ˆè¿æ¥æœ¬åœ° Openclawï¼‰                â”‚
â”‚ 4. æ‰§è¡Œä»»åŠ¡:                                                 â”‚
â”‚    a. ExecuteShell("npm install", "/Users/xxx/.../myapp")   â”‚
â”‚    b. ExecuteShell("npm run dev", "/Users/xxx/.../myapp")   â”‚
â”‚ 5. è¿”å›æ‰§è¡Œç»“æœ                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç»“æœ: åœ¨ç”¨æˆ·æœ¬åœ°æœºå™¨ç›´æ¥æ‰§è¡Œï¼Œå¯ä»¥:
  - è®¿é—®æœ¬åœ°çš„ node_modules ç¼“å­˜ï¼ˆæ›´å¿«ï¼‰
  - å¯åŠ¨çš„æœåŠ¡ç»‘å®šåˆ° localhost
  - è®¿é—®æœ¬åœ°çš„ç¯å¢ƒå˜é‡å’Œé…ç½®
```

#### 5.7.2 è‡ªåŠ¨åˆ‡æ¢åˆ°æ²™ç®±

```
ç”¨æˆ·ï¼ˆé€šè¿‡é£ä¹¦ï¼‰: 
  "å¸®æˆ‘æ‰§è¡Œè¿™æ®µä»ç½‘ä¸Šå¤åˆ¶çš„ Python ä»£ç "  
  ```python
  import os
  # ä¸æ˜æ¥æºçš„ä»£ç ...
  ```

å°åŒ—å¤„ç†æµç¨‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. æ¥æ”¶ä»»åŠ¡è¯·æ±‚                                              â”‚
â”‚ 2. æ£€æµ‹: ä»£ç æ¥æºä¸ºå¤–éƒ¨/ä¸ä¿¡ä»»                                â”‚
â”‚ 3. è‡ªåŠ¨ç­–ç•¥åˆ¤æ–­ â†’ åˆ‡æ¢åˆ°æ²™ç®±æ¨¡å¼                             â”‚
â”‚ 4. åˆ›å»º SandboxExecutor (E2B)                               â”‚
â”‚ 5. åœ¨éš”ç¦»ç¯å¢ƒä¸­æ‰§è¡Œä»£ç                                       â”‚
â”‚ 6. è¿”å›æ‰§è¡Œç»“æœ                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç»“æœ: ä»£ç åœ¨äº‘ç«¯éš”ç¦»æ‰§è¡Œï¼Œä¿æŠ¤ç”¨æˆ·æœ¬åœ°ç³»ç»Ÿå®‰å…¨
```

---

## å…­ã€ä½¿ç”¨åœºæ™¯ç¤ºä¾‹

### 6.1 åœºæ™¯ä¸€ï¼šé€šè¿‡ WhatsApp è§¦å‘æ·±åº¦ç ”ç©¶

```
ç”¨æˆ· (WhatsApp): å¸®æˆ‘ç ”ç©¶ä¸€ä¸‹ 2026 å¹´ AI Agent çš„å‘å±•è¶‹åŠ¿

Openclaw å¤„ç†:
  1. æ¥æ”¶ WhatsApp æ¶ˆæ¯
  2. è¯†åˆ«æ„å›¾: æ·±åº¦ç ”ç©¶ä»»åŠ¡
  3. è°ƒç”¨å°åŒ— DeerFlow API

å°åŒ—å¤„ç†:
  1. DeerFlow åˆ›å»ºç ”ç©¶ä»»åŠ¡
  2. è§„åˆ’å™¨åˆ†è§£ä»»åŠ¡:
     - æœç´¢æœ€æ–° AI Agent è®ºæ–‡
     - åˆ†æä¸»æµ AI Agent æ¡†æ¶
     - ç ”ç©¶å¸‚åœºè¶‹åŠ¿æŠ¥å‘Š
  3. ç ”ç©¶å‘˜å¹¶è¡Œæ‰§è¡Œ:
     - Arxiv è®ºæ–‡æ£€ç´¢
     - Google æœç´¢
     - çŸ¥è¯†åº“æŸ¥è¯¢
  4. æŠ¥å‘Šå‘˜ç”Ÿæˆç ”ç©¶æŠ¥å‘Š

Openclaw è¿”å›:
  1. æ¥æ”¶å°åŒ—ç ”ç©¶ç»“æœ
  2. æ ¼å¼åŒ–ä¸º WhatsApp æ¶ˆæ¯
  3. å‘é€ç»™ç”¨æˆ· (æ”¯æŒå¤šæ¡æ¶ˆæ¯åˆ†æ®µ)
```

### 6.2 åœºæ™¯äºŒï¼šé€šè¿‡ Telegram æ‰§è¡Œä»£ç 

```
ç”¨æˆ· (Telegram): /run_code python
```python
import pandas as pd
import numpy as np

# ç”Ÿæˆç¤ºä¾‹æ•°æ®
data = np.random.randn(100, 4)
df = pd.DataFrame(data, columns=['A', 'B', 'C', 'D'])
print(df.describe())
```

Openclaw å¤„ç†:
  1. æ¥æ”¶ Telegram å‘½ä»¤
  2. è§£æä»£ç å—
  3. è°ƒç”¨å°åŒ— Sandbox API

å°åŒ—å¤„ç†:
  1. åˆ›å»º Python æ²™ç®±ç¯å¢ƒ
  2. å®‰è£…ä¾èµ– (pandas, numpy)
  3. æ‰§è¡Œä»£ç 
  4. æ•è·è¾“å‡º

Openclaw è¿”å›:
```
æ‰§è¡Œç»“æœ:
                A          B          C          D
count  100.000000 100.000000 100.000000 100.000000
mean     0.032145  -0.089234   0.145623  -0.023456
std      0.987654   1.012345   0.976543   1.023456
...
```
```

### 6.3 åœºæ™¯ä¸‰ï¼šé€šè¿‡é£ä¹¦è§¦å‘å®šæ—¶ä»»åŠ¡

```
ç”¨æˆ· (é£ä¹¦): @å°åŒ— è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼Œæ¯å¤©æ—©ä¸Š9ç‚¹ç»™æˆ‘å‘é€å›¢é˜Ÿæ—¥æŠ¥æ±‡æ€»

Openclaw + å°åŒ—å¤„ç†:
  1. Openclaw æ¥æ”¶é£ä¹¦æ¶ˆæ¯
  2. è§£æä»»åŠ¡: å®šæ—¶ + æ—¥æŠ¥æ±‡æ€»
  3. è°ƒç”¨å°åŒ— TaskTrigger API åˆ›å»ºå®šæ—¶ä»»åŠ¡:
     - Cron: "0 9 * * *"
     - Action: æ±‡æ€»æ—¥æŠ¥å¹¶å‘é€
  4. å°åŒ— Cron æœåŠ¡æ³¨å†Œä»»åŠ¡

æ¯æ—¥ 9:00 æ‰§è¡Œ:
  1. å°åŒ— Worker è§¦å‘ä»»åŠ¡
  2. è°ƒç”¨é£ä¹¦ API è·å–å›¢é˜Ÿæ—¥æŠ¥
  3. AI æ±‡æ€»åˆ†æ
  4. é€šè¿‡ Openclaw é£ä¹¦æ¸ é“å‘é€ç»™ç”¨æˆ·
```

---

## ä¸ƒã€å®æ–½æ­¥éª¤

### 7.1 ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€è¿é€šï¼ˆ1-2 å‘¨ï¼‰

- [ ] å®‰è£…éƒ¨ç½² Openclaw-CN
- [ ] é…ç½® Openclaw Gateway
- [ ] å¼€å‘ Openclaw â†’ å°åŒ— HTTP æ¡¥æ¥
- [ ] æµ‹è¯•åŸºæœ¬æ¶ˆæ¯æµè½¬

### 7.2 ç¬¬äºŒé˜¶æ®µï¼šèƒ½åŠ›æ•´åˆï¼ˆ2-3 å‘¨ï¼‰

- [ ] å¼€å‘ Openclaw å°åŒ—é›†æˆæŠ€èƒ½
- [ ] å®ç°æ·±åº¦ç ”ç©¶å·¥å…·
- [ ] å®ç°ä»£ç æ‰§è¡Œå·¥å…·
- [ ] å®ç°ä»»åŠ¡ç®¡ç†å·¥å…·
- [ ] é…ç½®åŒå‘äº‹ä»¶é€šçŸ¥

### 7.3 ç¬¬ä¸‰é˜¶æ®µï¼šæ¸ é“æ‰©å±•ï¼ˆ1-2 å‘¨ï¼‰

- [ ] é…ç½® WhatsApp æ¸ é“
- [ ] é…ç½® Telegram æ¸ é“
- [ ] é…ç½® Discord æ¸ é“
- [ ] æµ‹è¯•å¤šæ¸ é“æ¶ˆæ¯åˆ†å‘

### 7.4 ç¬¬å››é˜¶æ®µï¼šé«˜çº§åŠŸèƒ½ï¼ˆ2-3 å‘¨ï¼‰

- [ ] å®ç° Openclaw æ’ä»¶ç‰ˆæœ¬
- [ ] å¼€å‘å°åŒ— Openclaw é€‚é…å™¨
- [ ] å®ç°å®šæ—¶ä»»åŠ¡åŒå‘è§¦å‘
- [ ] æ€§èƒ½ä¼˜åŒ–ä¸é”™è¯¯å¤„ç†

### 7.5 ç¬¬äº”é˜¶æ®µï¼šç”Ÿäº§éƒ¨ç½²ï¼ˆ1 å‘¨ï¼‰

- [ ] Docker å®¹å™¨åŒ–éƒ¨ç½²
- [ ] é…ç½®è´Ÿè½½å‡è¡¡
- [ ] ç›‘æ§å‘Šè­¦é…ç½®
- [ ] æ–‡æ¡£å’ŒåŸ¹è®­

---

## å…«ã€æŠ€æœ¯æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ

### 8.1 æŒ‘æˆ˜ä¸€ï¼šæ¶ˆæ¯æ ¼å¼ç»Ÿä¸€

**é—®é¢˜ï¼š** Openclaw å’Œå°åŒ—ä½¿ç”¨ä¸åŒçš„æ¶ˆæ¯æ ¼å¼

**è§£å†³æ–¹æ¡ˆï¼š**
```typescript
// æ¶ˆæ¯é€‚é…å™¨
interface UnifiedMessage {
  id: string;
  type: "text" | "image" | "file" | "code";
  content: string;
  metadata: Record<string, any>;
  source: {
    platform: string;  // openclaw | xiaobei
    channel: string;   // whatsapp | telegram | feishu | etc
    user_id: string;
  };
  timestamp: number;
}

// Openclaw â†’ Unified
function openclawToUnified(msg: OpenclawMessage): UnifiedMessage { ... }

// Unified â†’ XiaoBei
function unifiedToXiaobei(msg: UnifiedMessage): XiaoBeiMessage { ... }
```

### 8.2 æŒ‘æˆ˜äºŒï¼šå¼‚æ­¥ä»»åŠ¡çŠ¶æ€åŒæ­¥

**é—®é¢˜ï¼š** æ·±åº¦ç ”ç©¶ç­‰ä»»åŠ¡è€—æ—¶è¾ƒé•¿ï¼Œéœ€è¦çŠ¶æ€åŒæ­¥

**è§£å†³æ–¹æ¡ˆï¼š**
1. WebSocket å®æ—¶çŠ¶æ€æ¨é€
2. ä»»åŠ¡è¿›åº¦å›è°ƒé€šçŸ¥
3. ç”¨æˆ·å¯ä¸»åŠ¨æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€

```
ä»»åŠ¡åˆ›å»º â†’ ç«‹å³è¿”å›ä»»åŠ¡ID â†’ ç”¨æˆ·å¯ç»§ç»­å…¶ä»–å¯¹è¯
    â†“
ä»»åŠ¡æ‰§è¡Œä¸­ â†’ å¯é€‰: è¿›åº¦æ¨é€
    â†“
ä»»åŠ¡å®Œæˆ â†’ ä¸»åŠ¨æ¨é€ç»“æœåˆ°ç”¨æˆ·
```

### 8.3 æŒ‘æˆ˜ä¸‰ï¼šå®‰å…¨éš”ç¦»

**é—®é¢˜ï¼š** ä»£ç æ‰§è¡Œéœ€è¦å®‰å…¨éš”ç¦»

**è§£å†³æ–¹æ¡ˆï¼š**
1. ä½¿ç”¨ E2B ä¸“ä¸šæ²™ç®±æœåŠ¡
2. é…ç½®èµ„æºé™åˆ¶ï¼ˆCPU/å†…å­˜/ç½‘ç»œï¼‰
3. ä»£ç å®¡æ ¸æœºåˆ¶ï¼ˆå¯é€‰ï¼‰
4. ç”¨æˆ·æƒé™åˆ†çº§

---

## ä¹ã€æ€»ç»“ä¸å»ºè®®

### 9.1 æ ¸å¿ƒæ•´åˆä»·å€¼ï¼ˆé‡ç‚¹ï¼‰

**æ–°æ¶æ„çš„æ ¸å¿ƒæ€æƒ³ï¼šå°åŒ—å‰ç«¯ + Openclaw æœ¬åœ°åç«¯ + å¯é€‰ Sandbox**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     æ•´åˆåçš„ç»Ÿä¸€æ¶æ„                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚   å‰ç«¯å…¥å£ï¼ˆå¤šé€‰ä¸€ï¼‰          AI å¤§è„‘              æ‰§è¡Œåç«¯      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ Vide FDE   â”‚            â”‚        â”‚   â”Œâ”€â”€â”€â–º  â”‚ Openclaw â”‚  â”‚
â”‚   â”‚ é£ä¹¦       â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  å°åŒ—   â”‚â”€â”€â”€â”¤æœ¬åœ°  â”‚ (æœ¬åœ°)   â”‚  â”‚
â”‚   â”‚ WhatsApp   â”‚            â”‚  Core  â”‚   â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚   â”‚ Telegram   â”‚            â”‚        â”‚   â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ ...        â”‚            â”‚        â”‚   â””â”€â”€â”€â–º  â”‚   E2B    â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   æ²™ç®±   â”‚ (äº‘ç«¯)   â”‚  â”‚
â”‚                                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| ç»´åº¦ | æ•´åˆå‰ | æ•´åˆå |
|-----|-------|-------|
| **æ‰§è¡Œç¯å¢ƒ** | ä»… E2B äº‘ç«¯æ²™ç®± | âœ… **æœ¬åœ°ï¼ˆOpenclawï¼‰+ äº‘ç«¯ï¼ˆE2Bï¼‰å¯é€‰** |
| **æœ¬åœ°æ–‡ä»¶è®¿é—®** | âŒ æ— æ³•è®¿é—® | âœ… å®Œå…¨è®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ |
| **æœ¬åœ°æœåŠ¡** | âŒ æ— æ³•è¿æ¥ | âœ… å¯è¿æ¥æœ¬åœ°æ•°æ®åº“ã€APIã€æœåŠ¡ |
| **æ‰§è¡Œå»¶è¿Ÿ** | âš ï¸ ç½‘ç»œå»¶è¿Ÿ | âœ… é›¶å»¶è¿Ÿï¼ˆæœ¬åœ°æ¨¡å¼ï¼‰ |
| **è´¹ç”¨** | ğŸ’° E2B æŒ‰é‡ä»˜è´¹ | âœ… æœ¬åœ°æ¨¡å¼å…è´¹ |
| **æ¶ˆæ¯æ¸ é“** | é£ä¹¦ä¸ºä¸» | âœ… 10+ æ¸ é“å…¨è¦†ç›– |
| **å®‰å…¨æ€§** | äº‘ç«¯éš”ç¦» | âœ… æœ¬åœ°å¯é…ç½® + æ²™ç®±å¯é€‰ |

### 9.2 æ¨èæ•´åˆä¼˜å…ˆçº§ï¼ˆæ›´æ–°ï¼‰

1. **ğŸ”´ æœ€é«˜ä¼˜å…ˆçº§ï¼šOpenclaw ä½œä¸ºæœ¬åœ°æ‰§è¡Œåç«¯**
   - å¼€å‘ Openclaw Adapterï¼ˆGo ç‰ˆæœ¬ï¼‰
   - å®ç°ç»Ÿä¸€ Executor æ¥å£
   - é…ç½® Workspace ç±»å‹é€‰æ‹©

2. **ğŸŸ  é«˜ä¼˜å…ˆçº§ï¼šå‰ç«¯å·¥ä½œç©ºé—´é€‰æ‹© UI**
   - åœ¨ Vide FDE ä¸­æ·»åŠ è®¾ç½®é¡µé¢
   - æ”¯æŒåˆ‡æ¢æœ¬åœ°/æ²™ç®±æ¨¡å¼
   - æ˜¾ç¤º Openclaw è¿æ¥çŠ¶æ€

3. **ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ï¼šå¤šæ¸ é“æ¶ˆæ¯æ”¯æŒ**
   - åˆ©ç”¨ Openclaw çš„æ¸ é“èƒ½åŠ›
   - WhatsApp/Telegram ç­‰æ¸ é“é…ç½®
   - æ¶ˆæ¯æ ¼å¼ç»Ÿä¸€è½¬æ¢

4. **ğŸŸ¢ ä½ä¼˜å…ˆçº§ï¼šé«˜çº§åŠŸèƒ½**
   - æ·±åº¦ç ”ç©¶å·¥å…·é›†æˆ
   - æµè§ˆå™¨è‡ªåŠ¨åŒ–é›†æˆ
   - å®šæ—¶ä»»åŠ¡è”åŠ¨

### 9.3 é¢„æœŸæ•ˆæœ

æ•´åˆåï¼Œç”¨æˆ·å¯ä»¥ï¼š

1. âœ… **åœ¨æœ¬åœ°ç›´æ¥æ‰§è¡Œä»£ç **ï¼Œæ— éœ€äº‘ç«¯æ²™ç®±ï¼Œé›¶å»¶è¿Ÿã€é›¶è´¹ç”¨
2. âœ… **è®¿é—®æœ¬åœ°æ–‡ä»¶å’ŒæœåŠ¡**ï¼Œæ“ä½œæœ¬åœ°é¡¹ç›®ã€æ•°æ®åº“ã€API
3. âœ… **çµæ´»åˆ‡æ¢æ‰§è¡Œæ¨¡å¼**ï¼Œä¿¡ä»»ä»£ç ç”¨æœ¬åœ°ï¼Œä¸ä¿¡ä»»ä»£ç ç”¨æ²™ç®±
4. âœ… **å¤šæ¸ é“è§¦å‘**ï¼Œé€šè¿‡é£ä¹¦ã€WhatsAppã€Telegram ç­‰ä»»æ„ IM ä¸å°åŒ—äº¤äº’
5. âœ… **ç»Ÿä¸€çš„ AI åŠ©æ‰‹ä½“éªŒ**ï¼Œæ— è®ºé€šè¿‡å“ªä¸ªæ¸ é“ï¼Œéƒ½èƒ½è·å¾—å®Œæ•´çš„å°åŒ—èƒ½åŠ›

### 9.4 ä¸€å¥è¯æ€»ç»“

> **æŠŠ Openclaw å¼ºå¤§çš„æœ¬åœ°æ‰§è¡Œèƒ½åŠ›ï¼ˆæ–‡ä»¶ã€å‘½ä»¤ã€æµè§ˆå™¨ã€Gitï¼‰æ•´åˆä¸ºå°åŒ—çš„æœ¬åœ°æ‰§è¡Œåç«¯ï¼Œè®©ç”¨æˆ·å¯ä»¥é€‰æ‹©åœ¨æœ¬åœ°æˆ–äº‘ç«¯æ²™ç®±å·¥ä½œï¼ŒåŒæ—¶åˆ©ç”¨ Openclaw çš„å¤šæ¸ é“èƒ½åŠ›æ‰©å±•å°åŒ—çš„è§¦è¾¾èŒƒå›´ã€‚**

---

## é™„å½•

### A. ç›¸å…³é¡¹ç›®é“¾æ¥

- Openclaw-CN: https://github.com/jiulingyun/openclaw-cn
- å°åŒ—ä¸»ä»“åº“: /Users/houxianchao/Desktop/å°åŒ—main

### B. æ¶æ„å¯¹æ¯”å›¾

```
åŸæ¶æ„:
  å‰ç«¯ â†’ å°åŒ— Core â†’ E2B (äº‘ç«¯æ²™ç®±ï¼Œæ— æ³•è®¿é—®æœ¬åœ°)

æ–°æ¶æ„:
  å‰ç«¯ â†’ å°åŒ— Core â†’ [é€‰æ‹©å™¨] â†’ æœ¬åœ°æ¨¡å¼: Openclaw (å¯è®¿é—®æœ¬åœ°)
                              â†’ æ²™ç®±æ¨¡å¼: E2B (éš”ç¦»ç¯å¢ƒ)
```

### C. é…ç½®æ–‡ä»¶æ¨¡æ¿

è¯¦è§ç¬¬äº”ç« é…ç½®ç¤ºä¾‹ã€‚

### D. API æ–‡æ¡£

- Openclaw WebSocket API: `ws://localhost:18789`
- å°åŒ— REST API: `http://localhost:8080/api/v1/`

### E. å¸¸è§é—®é¢˜è§£ç­”

**Q: ä¸ºä»€ä¹ˆè¦ç”¨ Openclaw è€Œä¸æ˜¯ç›´æ¥åœ¨å°åŒ—ä¸­å®ç°æœ¬åœ°æ‰§è¡Œï¼Ÿ**
A: Openclaw å·²ç»å®ç°äº†å®Œå–„çš„æœ¬åœ°æ‰§è¡Œèƒ½åŠ›ï¼ˆæ–‡ä»¶ã€å‘½ä»¤ã€æµè§ˆå™¨ã€Git ç­‰ï¼‰ï¼Œä¸”ç»è¿‡å……åˆ†æµ‹è¯•ã€‚é‡ç”¨æ¯”é‡å†™æ›´é«˜æ•ˆã€‚

**Q: æœ¬åœ°æ¨¡å¼å®‰å…¨å—ï¼Ÿ**
A: å¯ä»¥é€šè¿‡é…ç½®é™åˆ¶ï¼š
  - å…è®¸è®¿é—®çš„ç›®å½•ç™½åå•
  - ç¦æ­¢æ‰§è¡Œçš„å±é™©å‘½ä»¤
  - æ•æ„Ÿæ“ä½œéœ€è¦ç¡®è®¤

**Q: ä»€ä¹ˆæ—¶å€™è¯¥ç”¨æœ¬åœ°æ¨¡å¼ï¼Œä»€ä¹ˆæ—¶å€™ç”¨æ²™ç®±ï¼Ÿ**
A: 
  - **æœ¬åœ°æ¨¡å¼**ï¼šå¼€å‘è°ƒè¯•ã€æ“ä½œæœ¬åœ°é¡¹ç›®ã€ä¸ªäººä½¿ç”¨
  - **æ²™ç®±æ¨¡å¼**ï¼šæ‰§è¡Œä¸ä¿¡ä»»çš„ä»£ç ã€å¤šç§Ÿæˆ·ç¯å¢ƒã€éœ€è¦éš”ç¦»çš„åœºæ™¯

**Q: Openclaw éœ€è¦å•ç‹¬å¯åŠ¨å—ï¼Ÿ**
A: æ˜¯çš„ï¼Œéœ€è¦åœ¨æœ¬åœ°è¿è¡Œ `openclaw gateway` å¯åŠ¨ Gateway æœåŠ¡ã€‚å¯ä»¥è®¾ç½®ä¸ºç³»ç»ŸæœåŠ¡è‡ªåŠ¨å¯åŠ¨ã€‚

---

*æ–‡æ¡£ç‰ˆæœ¬ v2.0 - æ–°å¢æœ¬åœ°æ‰§è¡Œåç«¯æ–¹æ¡ˆ*
*æ›´æ–°æ—¥æœŸ: 2026-02-03*
