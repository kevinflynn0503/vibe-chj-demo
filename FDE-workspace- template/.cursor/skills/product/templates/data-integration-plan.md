# 数据接入方案 - [客户名]

## 数据源清单

| # | 数据源 | 类型 | 格式 | 当前状态 | 负责人 | 接入方式 |
|---|--------|------|------|---------|--------|---------|
| 1 | | API / DB / 文件 / 飞书 | | 可用 / 待申请 | | 批量导入 / API 同步 / 定时拉取 |

## 数据流向

```
外部数据源                    Supabase                      App
┌────────────┐             ┌────────────┐              ┌────────────┐
│ [数据源1]  │──[接入方式]→  │ [表1]      │──Realtime──→ │ 页面展示    │
│ [数据源2]  │              │ [表2]      │              │            │
│ [数据源3]  │              │ [表3]      │              │            │
└────────────┘             └────────────┘              └────────────┘
                                  ↑                          │
                                  │ supabase_tool            │ sendChat
                            ┌────────────┐
                            │ Agent      │←──── 用户请求
                            └────────────┘
```

## Supabase 表设计

### 表 1：[表名]

```sql
CREATE TABLE [表名] (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  -- 字段...
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

## 同步策略

| 数据源 | 同步方式 | 频率 | 触发条件 | 备注 |
|--------|---------|------|---------|------|
| | 全量导入 / 增量同步 / 实时推送 | 每日 / 每周 / 实时 | | |

## 数据清洗

| 数据源 | 清洗规则 | 说明 |
|--------|---------|------|

## 定时任务

| 任务 | 触发时间 | 执行内容 | 输出 |
|------|---------|---------|------|
| 数据同步 | 每日 02:00 | 从 [数据源] 拉取增量数据 | 更新 [表] |
| 自动报告 | 每周五 18:00 | 生成周报 | 发送飞书通知 |
