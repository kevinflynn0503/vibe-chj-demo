# Demo 效果不佳：根因分析

> 基于漕河泾驾驶舱 Demo 的实际产出，分析为什么功能展示、UI、功能完整度都不高。

---

## 一、核心结论

**Demo 质量差不是 AI 写代码能力的问题，是输入给 AI 的"设计规格"不够具体。**

AI 拿到的是"方向描述"而不是"设计稿"。产品设计文档（`漕河泾驾驶舱_基于小北的产品设计.md`）写了 900 行的架构方案，但对 Demo 来说最关键的三个东西几乎没有：

1. **每个页面长什么样**（没有线框图、没有页面结构描述、没有交互流程图）
2. **每个功能在页面上怎么操作**（没有用户操作路径）
3. **UI 应该是什么风格**（没有参考设计、没有设计系统引用）

AI 只好自己"猜"——于是产出了一个"能跑但没灵魂"的 Demo。

---

## 二、逐项问题分析

### 2.1 功能展示不充分

**现象**：Demo 的交互基本是"列表 → 点击 → 详情"的单一模式。背调报告是 `setTimeout` 模拟的纯文本。飞书集成完全没有体现。

**根因**：

| 问题 | 原因 |
|------|------|
| 背调报告是假的 | 产品设计写了"chj_enterprise_agent 查询 → researcher_agent 补充 → 生成报告"，但没有描述**报告在页面上长什么样** —— AI 只好用 `setTimeout` + 拼字符串模拟 |
| 飞书妙记没有体现 | 产品设计写了"feishu_agent 获取妙记内容"，但这是后端能力描述。**Demo 阶段应该在页面上展示妙记的 Mock 数据**（录音时长、关键词、时间戳标记），而不是一个空的"妙记链接" |
| 需求分发没有体现 | 产品设计写了"feishu_agent 创建飞书任务"，但 Demo 里需求卡片只有文字列表，**没有"分发到飞书"的操作按钮和确认弹窗** |
| 企业画像太单薄 | 产品设计的数据模型很丰富（17000+ 企业），但 **Mock 数据只有 6 条企业、3 条走访记录**，页面视觉上很空 |

**本质**：产品设计文档侧重于"后端 Agent 怎么调用"，但 Demo 需要的是"前端页面怎么展示"。这两个是完全不同的视角。

### 2.2 UI 风格不对

**现象**：Demo 看起来像一个"管理后台"，不像一个"SaaS + AI 产品"。没有 AI 的存在感。

**根因**：

| 问题 | 原因 |
|------|------|
| 没有 AI 对话界面 | 这是 SaaS + AI 产品最核心的交互——用户和 AI 对话。产品设计里写了大量对话示例（"@小北 帮我生成背调报告"），但 **Demo 里完全没有对话组件**。用户看不到 AI 在哪里 |
| 没有 AI 处理过程展示 | 产品设计里写了"执行流程 1→2→3→4"，但 Demo 里只有一个 Spinner。应该有**步骤进度条、Agent 调用链展示** |
| 没有实时数据感 | 驾驶舱应该有"数据在流动"的感觉——实时更新的数字、刚刚完成的任务、进行中的 Agent 处理。Demo 全是静态数据 |
| 配色太保守 | 纯灰白+少量蓝绿色。没有参考小北平台的设计语言，也没有引用任何现代 SaaS 产品的 UI |

**本质**：Skill 里的 UI 设计指南（`skills/north-app/references/design-standards.md`）是通用的设计令牌，但没有给 AI **具体的视觉参考**。AI 不知道"SaaS + AI 产品"的 UI 应该长什么样，因为它从来没有看过一个。

### 2.3 对需求理解不到位

**现象**：飞书联动和小北联动在 Demo 中完全没有体现。

**根因**：

| 需求 | 产品设计怎么写的 | Demo 怎么做的 | 差距 |
|------|----------------|-------------|------|
| 飞书妙记录音接入 | "feishu_agent 获取妙记内容 → exec_agent 提取信息" | 走访记录里有一个 `mioji_link` 字段，显示为文本链接 | **应该展示妙记的内容预览**：录音时长、AI 摘要、关键时间戳标记、一键提取关键信息的操作 |
| 生成背调+飞书文档 | "analysis_reporter_agent 生成 → feishu_doc_agent 写入文档" | `setTimeout` 2 秒后显示拼接的文本 | **应该展示报告的富文本渲染**，有"导出到飞书文档"按钮，有"分享给同事"操作 |
| 企业数据库画像 | 17000+ 企业，有详细的数据模型 | 6 条 Mock 数据，只展示基础信息 | **应该展示数据全景**：企业分布图、行业占比、融资阶段分布、地理分布；单个企业画像应该是一个完整的"企业名片" |
| 政策诊断 | "exec_agent 计算各项指标 → 生成诊断报告" | 只有一个评分进度条和几个 ✓/✗ | **应该展示完整的诊断仪表盘**：雷达图、各项指标得分、差距分析、建议措施 |

**本质**：产品设计把"AI 在后端怎么工作"描述得很清楚，但没有把"用户在前端看到什么"描述清楚。AI 读了 900 行的 Agent 调用链，但不知道页面上该放什么组件。

---

## 三、根本原因：Product Skill 的 Phase 4 指导缺失

回到 Vibe FDE 的方法论，Phase 4 是"静态 Demo"。但 `skills/product/guides/phase4-static-demo.md` 里的指导只说了：

- "用 north-app 架构"
- "Mock 数据结构和 Supabase schema 一致"
- "Demo 是 App 的骨架"

**完全没有说 Demo 应该包含什么级别的 UI 细节。**

具体来说，Phase 3（产品设计）到 Phase 4（Demo）之间，缺少一个关键的中间产物：

```
Phase 3 产品设计               缺少的中间产物              Phase 4 Demo
┌──────────────┐            ┌──────────────┐           ┌──────────────┐
│ Agent 架构    │ ───?──→   │ 页面设计规格  │ ──────→   │ 可运行代码   │
│ 数据模型      │            │ 每页元素清单  │           │ 有视觉效果   │
│ 工作流        │            │ 交互流程      │           │ 有操作路径   │
│ 对话示例      │            │ AI 展示方式   │           │ 有 AI 存在感 │
│ 定时任务      │            │ UI 参考截图   │           │              │
└──────────────┘            └──────────────┘           └──────────────┘
     ↑ 这个写了                ↑ 这个没写                 ↑ 所以这个不行
```

### 缺失的"页面设计规格"应该包含什么

1. **每个页面的组件清单**

```markdown
## 企业详情页组件清单

1. 企业头部卡片
   - 企业 logo（mock 用首字母头像）
   - 名称 + 行业标签 + 状态标签
   - 操作按钮：生成背调报告、发起走访、联系企业

2. 数据概览区（4 列指标卡）
   - 年营收 | 员工数 | 专利数 | 活跃度评分

3. Tab 区域
   - 企业画像：信息表格 + 技术雷达图 + 融资时间线
   - AI 背调报告：富文本渲染 + 导出按钮 + 分享按钮
   - 走访记录：时间线视图 + 妙记内容预览 + 需求追踪
   - 关联 Agent：显示该企业关联的 Agent 任务 + 状态

4. 右侧 AI 对话面板（可折叠）
   - 和小北对话："帮我分析这家企业的高企条件"
   - 展示 Agent 执行步骤
```

2. **AI 在页面上的存在方式**

```markdown
## AI 存在感设计

### 位置
- 每个页面右下角有一个浮动的"AI 助手"按钮
- 点击展开对话面板（类似 ChatGPT 的侧边栏）
- 对话面板可以发送指令、查看执行过程、获取结果

### AI 生成内容的展示
- 背调报告：不是纯文本，是一个有目录导航的结构化文档
- 诊断报告：是一个仪表盘（雷达图 + 评分卡 + 差距表）
- Agent 执行过程：步骤进度条 + 每步结果预览
```

3. **UI 视觉参考**

```markdown
## 视觉参考

### 整体风格
- 参考 Linear（简洁、信息密度高）
- 参考 Notion（结构化内容展示）
- 参考 小北平台现有 UI（@north/design 组件库）

### 不要的风格
- 不要传统管理后台的表格密集型
- 不要纯白底灰框的"原型图感"
```

---

## 四、其他 Skill 层面的不足

### 4.1 App 脚手架模板太基础

`skills/north-app/app-template/` 提供的是一个最小可运行框架：列表 → 创建 → 详情。但驾驶舱类产品需要的是：

- 侧边栏导航（已有，但很简陋）
- 仪表盘布局（统计卡 + 图表 + 列表组合）
- AI 对话面板（完全没有）
- 数据可视化组件（完全没有）
- 多 Tab 详情页（有 Tab 但内容简单）

### 4.2 没有 UI 参考库

`skills/north-app/references/design-standards.md` 是通用设计令牌（色彩、间距、圆角），但没有：

- **真实产品截图参考**
- **页面布局模式库**（仪表盘布局、列表详情布局、对话+内容布局）
- **数据可视化组件示例**（图表、雷达图、时间线）
- **AI 交互模式示例**（对话面板、步骤展示、结果卡片）

### 4.3 Product Skill 重后端轻前端

`skills/product/SKILL.md` 的六阶段工作流在 Phase 3 设计了完善的 Agent 架构和数据模型，但 Phase 4 的静态 Demo 指导只有"用 north-app 架构"一句话。

**Phase 3 → Phase 4 的转译缺失**：把"Agent 怎么工作"翻译成"页面上怎么展示 Agent 的工作结果"。

---

## 五、总结：问题出在哪一层

```
┌─────────────────────────────────────────────────────────────────┐
│ 1. Product Skill 方法论缺陷                                       │
│    Phase 3 → Phase 4 缺少"页面设计规格"这个中间产物                   │
│    Phase 4 指导太粗（"用 north-app 架构"不够）                       │
├─────────────────────────────────────────────────────────────────┤
│ 2. UI Skill 缺失                                                 │
│    没有 SaaS+AI 产品的 UI 参考库                                    │
│    没有页面布局模式库                                               │
│    没有数据可视化组件示例                                            │
│    没有 AI 交互模式示例                                             │
├─────────────────────────────────────────────────────────────────┤
│ 3. App 脚手架模板不够                                              │
│    只有列表-创建-详情三个页面                                        │
│    没有仪表盘布局模板                                               │
│    没有 AI 对话面板组件                                             │
│    没有数据可视化组件                                               │
├─────────────────────────────────────────────────────────────────┤
│ 4. 产品设计文档重后端轻前端                                          │
│    900 行描述 Agent 调用链和数据模型                                  │
│    0 行描述每个页面长什么样                                           │
│    0 行描述 AI 在前端怎么展示                                        │
│    0 行描述 UI 视觉参考                                             │
└─────────────────────────────────────────────────────────────────┘
```

**一句话总结：AI 知道后端该怎么做，但不知道前端该长什么样。**

---

## 六、改进方向

| 层级 | 改进 | 优先级 |
|------|------|--------|
| Product Skill | Phase 3 增加"页面设计规格"模板，要求每个页面列出组件清单、交互流程、AI 展示方式 | P0 |
| Product Skill | Phase 4 增加"Demo 质量检查清单"：AI 对话面板有没有？数据可视化有没有？操作闭环完不完整？ | P0 |
| UI Skill | 新增"SaaS+AI 产品 UI 参考库"：Linear/Notion/小北风格的截图+布局描述 | P0 |
| UI Skill | 新增"页面布局模式库"：仪表盘、列表详情、对话+内容等常见布局的代码模板 | P1 |
| App 脚手架 | 扩充模板：增加仪表盘布局、AI 对话面板组件、图表组件 | P1 |
| 产品设计 | 漕河泾产品设计文档补充"前端页面设计规格"章节 | P0 |
| UI 参考 | 联网搜索开源前端 UI skill/组件库，补充到 north-app 参考中 | P1 |
